<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ting Tsai &amp; Sohyun Lim">

<title>Relationship Between Socioeconomic Indicators and Health outcomes in Chicago</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="notebook_files/libs/clipboard/clipboard.min.js"></script>
<script src="notebook_files/libs/quarto-html/quarto.js"></script>
<script src="notebook_files/libs/quarto-html/popper.min.js"></script>
<script src="notebook_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="notebook_files/libs/quarto-html/anchor.min.js"></script>
<link href="notebook_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="notebook_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="notebook_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="notebook_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="notebook_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Relationship Between Socioeconomic Indicators and Health outcomes in Chicago</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ting Tsai &amp; Sohyun Lim </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div id="f610eb77" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry <span class="im">import</span> Point</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib.colors <span class="im">import</span> ListedColormap</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> textblob <span class="im">import</span> TextBlob</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> spacy</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="motivation-and-research-question" class="level1">
<h1>1. Motivation and Research Question</h1>
</section>
<section id="data-resource" class="level1">
<h1>2. Data Resource</h1>
</section>
<section id="text-analysis" class="level1">
<h1>3. Text Analysis</h1>
<p>url: https://www.cbsnews.com/chicago/news/cancer-care-disparities-1/ Subject: Chicago’s South, West Sides have many more cancer patients, less access to care. ### Scrape the article content</p>
<div id="ae5e8511" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># URL</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">'https://www.cbsnews.com/chicago/news/cancer-care-disparities-1/'</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the web page</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> requests.get(url)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>response.raise_for_status()  <span class="co"># Check if the request is successful</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># HTML parsing</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(response.text, <span class="st">'html.parser'</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 기사 본문 추출 (예: &lt;div&gt; 태그의 클래스명이 'content'인 경우)</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>article_section <span class="op">=</span> soup.find(<span class="st">'section'</span>, class_<span class="op">=</span><span class="st">'content__body'</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> article_section:</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    paragraphs <span class="op">=</span> article_section.find_all(<span class="st">'p'</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    article_text <span class="op">=</span> <span class="st">'</span><span class="ch">\n</span><span class="st">'</span>.join([para.get_text() <span class="cf">for</span> para <span class="kw">in</span> paragraphs])</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(article_text)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Article is not found."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>CHICAGO (CBS) – Chicago has long been a hub for breakthroughs in medicine, but the number of people dying from cancer in the city shows not everyone benefits equally.
For those in Chicago's low-income, predominately Black or Latino neighborhoods, they don't have the same access to or quality of care. CBS 2's Audrina Sinclair examined the problem and who's helping.
From Genella Jones-Riggins' backyard in Roseland, she grows it and cans it.
"[There are] eight or nine different types of tomatoes," she said.
She has stacks and stacks of jars of "shelf-ready food" for at least six months to a year, she said. It's piles of produce.
"It's wholesome food that I grew myself," Jones-Riggins  said. "It's my responsibility to make sure that I stay healthy."
Speaking of health…
Sinclair: "Where are you at now in your journey?"
Jones-Riggins: "My prognosis is well. My last scans were clean."
The good news came a year after finding a lump in her breast and having no health insurance.
"You hear all the time about breast cancer, free screenings, but when I needed it, I couldn't find it," Jones-Riggins  said. "I called around for two weeks, and I could not find anything."
A friend told her about the nonprofit Equal Hope.
"They made sure that I got everything that I needed," she said.
That started with a mammogram and biopsy at Rush University Medical Center, where doctors diagnosed her with triple negative breast cancer.
Sinclair: "Someone went to every appointment with you. How many appointments are we talking about?"
Jones-Riggins: "I had 17 rounds of chemo. MRIs, and you have CT scans, and you have bone scans, and you have bone density scans. Then after chemo, you have radiation and radiation is every single day for four to five weeks."
Her nurse navigator, Rita, was there for her, and the costs were all covered.
"This is a state-funded program that allows women to access care at no cost," said Paris Thomas, of Equal Hope. "Which is why she didn't have to see those bills."
Thomas works to fight Chicago's cancer care disparities with Equal Hope, which helps 1,800 women like Jones-Riggins with breast or cervical cancer.
"We serve the communities on the West and South Side of Chicago," Thomas said. "Primarily those that are Black and brown, and usually those who are considered under-resourced, disinvested in."
A map from the Chicago Department of Public Health and PHAME Center at the University of Illinois at Chicago shows the neighborhoods where the most people are dying from cancer in Chicago. The darker the blue, the more cancer deaths.
All but one of the communities are on the South and West Sides.
"We know that we have to intervene in this community because there's a problem here," Thomas said.
Equal Hope is intervening for patients treated at safety net hospitals in their neighborhoods. Such hospitals are usually under-resourced facilities with outdated equipment, lower staffing levels, and limited hours.
"Let's say capacity," said Thomas. "Maybe they don't have a full-time mammogram tech, and they're only able to see women once a week. So we know that we now have to pivot and try to move our populations to other facilities."
A study by the Health Care Council of Chicago looked at those barriers to care in the city's under-resourced neighborhoods and found specialists on the South Side are treating three times as many patients as on the North Side. That's about 1,000 patients for every doctor on the South Side of the city, compared to about 350 patients for every doctor in many North Side communities.
Thomas is hyper-focused on the disparities to help people like Jones-Riggins  get the cancer care they need.
"I don't know where I'd be without the help that they provided me," said a tearful Jones-Riggins.
To learn more about Equal Hope and its services, visit&nbsp;EqualHope.org. &nbsp;
In the second part of her story, Sinclair will dig deeper into the disparities and ways to tackle them, including a look at a new cancer center coming to Hyde Park.
Audrina Sinclair is an anchor on the CBS2 Morning News.</code></pre>
</div>
</div>
<section id="text-analysis---semtimental" class="level3">
<h3 class="anchored" data-anchor-id="text-analysis---semtimental">Text Analysis - semtimental</h3>
<div id="ecd7761f" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create textblob</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>blob <span class="op">=</span> TextBlob(article_text)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sentiment Analysis</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>sentiment <span class="op">=</span> blob.sentiment</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>polarity <span class="op">=</span> sentiment.polarity  <span class="co"># -1(negative) +1(oisitive)</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>subjectivity <span class="op">=</span> sentiment.subjectivity  <span class="co"># 0(objective) 1(subjective)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Polarity: </span><span class="sc">{</span>polarity<span class="sc">}</span><span class="ss">"</span>)  <span class="co"># 0.10 (slightly positive)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Subjectivity: </span><span class="sc">{</span>subjectivity<span class="sc">}</span><span class="ss">"</span>)  <span class="co"># 0.38 (relatively objective)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Polarity: 0.10115199615199617
Subjectivity: 0.38106220939554264</code></pre>
</div>
</div>
</section>
<section id="text-analysis---semtimental-by-sentence" class="level3">
<h3 class="anchored" data-anchor-id="text-analysis---semtimental-by-sentence">Text Analysis - semtimental by sentence</h3>
<div id="c43587a6" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>nlp <span class="op">=</span> spacy.load(<span class="st">"en_core_web_sm"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>doc <span class="op">=</span> nlp(article_text)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(doc)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>sents <span class="op">=</span> <span class="bu">list</span>(doc.sents)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>sents_list <span class="op">=</span> <span class="bu">list</span>(doc.sents)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>sents_list</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> token <span class="kw">in</span> sents_list[<span class="dv">1</span>]:</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(token.text)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>For
those
in
Chicago
's
low
-
income
,
predominately
Black
or
Latino
neighborhoods
,
they
do
n't
have
the
same
access
to
or
quality
of
care
.</code></pre>
</div>
</div>
<div id="2e6a1669" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate setence polarity</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>sentence_polarities <span class="op">=</span> []</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, sentence <span class="kw">in</span> <span class="bu">enumerate</span>(sents_list):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    blob <span class="op">=</span> TextBlob(sentence.text)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    polarity <span class="op">=</span> blob.sentiment.polarity</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    sentence_polarities.append({<span class="st">"n"</span>: i <span class="op">+</span> <span class="dv">1</span>, <span class="st">"sentence"</span>: sentence.text, <span class="st">"polarity"</span>: polarity})</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>df_polarity <span class="op">=</span> pd.DataFrame(sentence_polarities)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the outcome</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_polarity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     n                                           sentence  polarity
0    1  CHICAGO (CBS) – Chicago has long been a hub fo... -0.025000
1    2  For those in Chicago's low-income, predominate... -0.083333
2    3  CBS 2's Audrina Sinclair examined the problem ...  0.000000
3    4  From Genella Jones-Riggins' backyard in Rosela...  0.000000
4    5  "[There are] eight or nine different types of ...  0.000000
5    6  She has stacks and stacks of jars of "shelf-re... -0.300000
6    7                           It's piles of produce.\n  0.000000
7    8  "It's wholesome food that I grew myself," Jone...  0.000000
8    9  "It's my responsibility to make sure that I st...  0.500000
9   10  Speaking of health…\nSinclair: "Where are you ...  0.000000
10  11                          My last scans were clean.  0.183333
11  12  "\nThe good news came a year after finding a l...  0.700000
12  13  "You hear all the time about breast cancer, fr...  0.400000
13  14  "I called around for two weeks, and I could no...  0.000000
14  15  A friend told her about the nonprofit Equal Ho...  0.000000
15  16  "They made sure that I got everything that I n...  0.500000
16  17  That started with a mammogram and biopsy at Ru... -0.133333
17  18  Sinclair: "Someone went to every appointment w...  0.000000
18  19  How many appointments are we talking about?"\n...  0.500000
19  20  MRIs, and you have CT scans, and you have bone...  0.000000
20  21  Then after chemo, you have radiation and radia... -0.071429
21  22  Her nurse navigator, Rita, was there for her, ...  0.000000
22  23  "This is a state-funded program that allows wo...  0.000000
23  24  "Which is why she didn't have to see those bills.  0.000000
24  25  "\nThomas works to fight Chicago's cancer care...  0.000000
25  26  "We serve the communities on the West and Sout...  0.000000
26  27  "Primarily those that are Black and brown, and... -0.005556
27  28  "\nA map from the Chicago Department of Public...  0.133333
28  29     The darker the blue, the more cancer deaths.\n  0.250000
29  30  All but one of the communities are on the Sout...  0.000000
30  31  "We know that we have to intervene in this com...  0.000000
31  32  Equal Hope is intervening for patients treated...  0.000000
32  33  Such hospitals are usually under-resourced fac... -0.180357
33  34                 "Let's say capacity," said Thomas.  0.000000
34  35  "Maybe they don't have a full-time mammogram t...  0.250000
35  36  So we know that we now have to pivot and try t... -0.125000
36  37  "\nA study by the Health Care Council of Chica...  0.500000
37  38  That's about 1,000 patients for every doctor o...  0.500000
38  39  Thomas is hyper-focused on the disparities to ...  0.000000
39  40  "I don't know where I'd be without the help th...  0.000000
40  41  To learn more about Equal Hope and its service...  0.250000
41  42  In the second part of her story, Sinclair will...  0.012121
42  43  Audrina Sinclair is an anchor on the CBS2 Morn...  0.000000</code></pre>
</div>
</div>
<div id="40a19cd0" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a graph about polarity by sentence</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>chart_polarity <span class="op">=</span> alt.Chart(df_polarity).mark_line().encode(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">'n:Q'</span>, title<span class="op">=</span><span class="st">'Sentence Number'</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">'polarity:Q'</span>, title<span class="op">=</span><span class="st">'Polarity'</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">'sentence'</span>, <span class="st">'polarity'</span>]</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Sentence Polarity of Article'</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>).interactive()</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>chart_polarity</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">

<style>
  #altair-viz-3cb370dd02f14aaba1cc9703fd51dfd5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-3cb370dd02f14aaba1cc9703fd51dfd5.vega-embed details,
  #altair-viz-3cb370dd02f14aaba1cc9703fd51dfd5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-3cb370dd02f14aaba1cc9703fd51dfd5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-3cb370dd02f14aaba1cc9703fd51dfd5") {
      outputDiv = document.getElementById("altair-viz-3cb370dd02f14aaba1cc9703fd51dfd5");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-79edf3ad0149ca70f884325abb43ed78"}, "mark": {"type": "line"}, "encoding": {"tooltip": [{"field": "sentence", "type": "nominal"}, {"field": "polarity", "type": "quantitative"}], "x": {"field": "n", "title": "Sentence Number", "type": "quantitative"}, "y": {"field": "polarity", "title": "Polarity", "type": "quantitative"}}, "height": 400, "params": [{"name": "param_1", "select": {"type": "interval", "encodings": ["x", "y"]}, "bind": "scales"}], "title": "Sentence Polarity of Article", "width": 800, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-79edf3ad0149ca70f884325abb43ed78": [{"n": 1, "sentence": "CHICAGO (CBS) \u2013 Chicago has long been a hub for breakthroughs in medicine, but the number of people dying from cancer in the city shows not everyone benefits equally.\n", "polarity": -0.025}, {"n": 2, "sentence": "For those in Chicago's low-income, predominately Black or Latino neighborhoods, they don't have the same access to or quality of care.", "polarity": -0.08333333333333333}, {"n": 3, "sentence": "CBS 2's Audrina Sinclair examined the problem and who's helping.\n", "polarity": 0.0}, {"n": 4, "sentence": "From Genella Jones-Riggins' backyard in Roseland, she grows it and cans it.\n", "polarity": 0.0}, {"n": 5, "sentence": "\"[There are] eight or nine different types of tomatoes,\" she said.\n", "polarity": 0.0}, {"n": 6, "sentence": "She has stacks and stacks of jars of \"shelf-ready food\" for at least six months to a year, she said.", "polarity": -0.3}, {"n": 7, "sentence": "It's piles of produce.\n", "polarity": 0.0}, {"n": 8, "sentence": "\"It's wholesome food that I grew myself,\" Jones-Riggins  said.", "polarity": 0.0}, {"n": 9, "sentence": "\"It's my responsibility to make sure that I stay healthy.\"\n", "polarity": 0.5}, {"n": 10, "sentence": "Speaking of health\u2026\nSinclair: \"Where are you at now in your journey?\"\nJones-Riggins: \"My prognosis is well.", "polarity": 0.0}, {"n": 11, "sentence": "My last scans were clean.", "polarity": 0.18333333333333335}, {"n": 12, "sentence": "\"\nThe good news came a year after finding a lump in her breast and having no health insurance.\n", "polarity": 0.7}, {"n": 13, "sentence": "\"You hear all the time about breast cancer, free screenings, but when I needed it, I couldn't find it,\" Jones-Riggins  said.", "polarity": 0.4}, {"n": 14, "sentence": "\"I called around for two weeks, and I could not find anything.\"\n", "polarity": 0.0}, {"n": 15, "sentence": "A friend told her about the nonprofit Equal Hope.\n", "polarity": 0.0}, {"n": 16, "sentence": "\"They made sure that I got everything that I needed,\" she said.\n", "polarity": 0.5}, {"n": 17, "sentence": "That started with a mammogram and biopsy at Rush University Medical Center, where doctors diagnosed her with triple negative breast cancer.\n", "polarity": -0.13333333333333333}, {"n": 18, "sentence": "Sinclair: \"Someone went to every appointment with you.", "polarity": 0.0}, {"n": 19, "sentence": "How many appointments are we talking about?\"\nJones-Riggins: \"I had 17 rounds of chemo.", "polarity": 0.5}, {"n": 20, "sentence": "MRIs, and you have CT scans, and you have bone scans, and you have bone density scans.", "polarity": 0.0}, {"n": 21, "sentence": "Then after chemo, you have radiation and radiation is every single day for four to five weeks.\"\n", "polarity": -0.07142857142857142}, {"n": 22, "sentence": "Her nurse navigator, Rita, was there for her, and the costs were all covered.\n", "polarity": 0.0}, {"n": 23, "sentence": "\"This is a state-funded program that allows women to access care at no cost,\" said Paris Thomas, of Equal Hope.", "polarity": 0.0}, {"n": 24, "sentence": "\"Which is why she didn't have to see those bills.", "polarity": 0.0}, {"n": 25, "sentence": "\"\nThomas works to fight Chicago's cancer care disparities with Equal Hope, which helps 1,800 women like Jones-Riggins with breast or cervical cancer.\n", "polarity": 0.0}, {"n": 26, "sentence": "\"We serve the communities on the West and South Side of Chicago,\" Thomas said.", "polarity": 0.0}, {"n": 27, "sentence": "\"Primarily those that are Black and brown, and usually those who are considered under-resourced, disinvested in.", "polarity": -0.005555555555555545}, {"n": 28, "sentence": "\"\nA map from the Chicago Department of Public Health and PHAME Center at the University of Illinois at Chicago shows the neighborhoods where the most people are dying from cancer in Chicago.", "polarity": 0.13333333333333333}, {"n": 29, "sentence": "The darker the blue, the more cancer deaths.\n", "polarity": 0.25}, {"n": 30, "sentence": "All but one of the communities are on the South and West Sides.\n", "polarity": 0.0}, {"n": 31, "sentence": "\"We know that we have to intervene in this community because there's a problem here,\" Thomas said.\n", "polarity": 0.0}, {"n": 32, "sentence": "Equal Hope is intervening for patients treated at safety net hospitals in their neighborhoods.", "polarity": 0.0}, {"n": 33, "sentence": "Such hospitals are usually under-resourced facilities with outdated equipment, lower staffing levels, and limited hours.\n", "polarity": -0.18035714285714288}, {"n": 34, "sentence": "\"Let's say capacity,\" said Thomas.", "polarity": 0.0}, {"n": 35, "sentence": "\"Maybe they don't have a full-time mammogram tech, and they're only able to see women once a week.", "polarity": 0.25}, {"n": 36, "sentence": "So we know that we now have to pivot and try to move our populations to other facilities.", "polarity": -0.125}, {"n": 37, "sentence": "\"\nA study by the Health Care Council of Chicago looked at those barriers to care in the city's under-resourced neighborhoods and found specialists on the South Side are treating three times as many patients as on the North Side.", "polarity": 0.5}, {"n": 38, "sentence": "That's about 1,000 patients for every doctor on the South Side of the city, compared to about 350 patients for every doctor in many North Side communities.\n", "polarity": 0.5}, {"n": 39, "sentence": "Thomas is hyper-focused on the disparities to help people like Jones-Riggins  get the cancer care they need.\n", "polarity": 0.0}, {"n": 40, "sentence": "\"I don't know where I'd be without the help that they provided me,\" said a tearful Jones-Riggins.\n", "polarity": 0.0}, {"n": 41, "sentence": "To learn more about Equal Hope and its services, visit\u00a0EqualHope.org. \u00a0\n", "polarity": 0.25}, {"n": 42, "sentence": "In the second part of her story, Sinclair will dig deeper into the disparities and ways to tackle them, including a look at a new cancer center coming to Hyde Park.\n", "polarity": 0.012121212121212116}, {"n": 43, "sentence": "Audrina Sinclair is an anchor on the CBS2 Morning News.", "polarity": 0.0}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
</section>
<section id="text-analysis---semtimental-by-vocabulary" class="level3">
<h3 class="anchored" data-anchor-id="text-analysis---semtimental-by-vocabulary">Text Analysis - semtimental by vocabulary</h3>
<div id="84612cdb" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load spaCy model</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>nlp <span class="op">=</span> spacy.load(<span class="st">"en_core_web_sm"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define custom stopwords</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>custom_stopwords <span class="op">=</span> {<span class="st">"said"</span>, <span class="st">"jones"</span>, <span class="st">"riggins"</span>, <span class="st">"thomas"</span>, <span class="st">"sinclair"</span>}</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Add custom stopwords to the basic stopwords in spaCy</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>all_stopwords <span class="op">=</span> nlp.Defaults.stop_words.union(custom_stopwords)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove stopwords and extract words</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>words <span class="op">=</span> [</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    token.text.lower()</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sentence <span class="kw">in</span> sents_list</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> token <span class="kw">in</span> sentence</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> token.is_alpha <span class="kw">and</span> token.text.lower() <span class="kw">not</span> <span class="kw">in</span> all_stopwords</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate words frequency</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>word_freq <span class="op">=</span> Counter(words)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract top 10 words</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>most_common_words <span class="op">=</span> word_freq.most_common(<span class="dv">10</span>)</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>df_word_freq <span class="op">=</span> pd.DataFrame(most_common_words, columns<span class="op">=</span>[<span class="st">"word"</span>, <span class="st">"frequency"</span>])</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the outcome</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_word_freq)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            word  frequency
0        chicago          9
1         cancer          9
2           care          6
3          equal          5
4           hope          5
5  neighborhoods          4
6         health          4
7          scans          4
8         breast          4
9          south          4</code></pre>
</div>
</div>
<div id="7a5402f2" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar graph</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>chart_word_frequency <span class="op">=</span> alt.Chart(df_word_freq).mark_bar().encode(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"frequency:Q"</span>, title<span class="op">=</span><span class="st">"Frequency"</span>),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"word:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Word"</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"word"</span>, <span class="st">"frequency"</span>]</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Most Frequent Words (Excluding All Stopwords)"</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>chart_word_frequency</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">

<style>
  #altair-viz-e1eb10ededa64bbc87e1dcf870f9b3a2.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-e1eb10ededa64bbc87e1dcf870f9b3a2.vega-embed details,
  #altair-viz-e1eb10ededa64bbc87e1dcf870f9b3a2.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-e1eb10ededa64bbc87e1dcf870f9b3a2"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-e1eb10ededa64bbc87e1dcf870f9b3a2") {
      outputDiv = document.getElementById("altair-viz-e1eb10ededa64bbc87e1dcf870f9b3a2");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-e1458d9b62dcaeb133c5c236aec6a23e"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "word", "type": "nominal"}, {"field": "frequency", "type": "quantitative"}], "x": {"field": "frequency", "title": "Frequency", "type": "quantitative"}, "y": {"field": "word", "sort": "-x", "title": "Word", "type": "nominal"}}, "height": 400, "title": "Top 10 Most Frequent Words (Excluding All Stopwords)", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-e1458d9b62dcaeb133c5c236aec6a23e": [{"word": "chicago", "frequency": 9}, {"word": "cancer", "frequency": 9}, {"word": "care", "frequency": 6}, {"word": "equal", "frequency": 5}, {"word": "hope", "frequency": 5}, {"word": "neighborhoods", "frequency": 4}, {"word": "health", "frequency": 4}, {"word": "scans", "frequency": 4}, {"word": "breast", "frequency": 4}, {"word": "south", "frequency": 4}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p><img src="chart_polarity.png" class="img-fluid" alt="chart_polarity"> <img src="chart_word_frequency.png" class="img-fluid" alt="chart_word_frequency"></p>
</section>
</section>
<section id="basic-descriptive-statistics" class="level1">
<h1>4. Basic descriptive statistics</h1>
<div id="84c37f07" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset.</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>file_path <span class="op">=</span> <span class="st">"Public_Health_Statistics_-_Selected_public_health_indicators_by_Chicago_community_area_-_Historical_20241031.csv"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(file_path)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Community Area</th>
<th data-quarto-table-cell-role="th">Community Area Name</th>
<th data-quarto-table-cell-role="th">Birth Rate</th>
<th data-quarto-table-cell-role="th">General Fertility Rate</th>
<th data-quarto-table-cell-role="th">Low Birth Weight</th>
<th data-quarto-table-cell-role="th">Prenatal Care Beginning in First Trimester</th>
<th data-quarto-table-cell-role="th">Preterm Births</th>
<th data-quarto-table-cell-role="th">Teen Birth Rate</th>
<th data-quarto-table-cell-role="th">Assault (Homicide)</th>
<th data-quarto-table-cell-role="th">Breast cancer in females</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Childhood Lead Poisoning</th>
<th data-quarto-table-cell-role="th">Gonorrhea in Females</th>
<th data-quarto-table-cell-role="th">Gonorrhea in Males</th>
<th data-quarto-table-cell-role="th">Tuberculosis</th>
<th data-quarto-table-cell-role="th">Below Poverty Level</th>
<th data-quarto-table-cell-role="th">Crowded Housing</th>
<th data-quarto-table-cell-role="th">Dependency</th>
<th data-quarto-table-cell-role="th">No High School Diploma</th>
<th data-quarto-table-cell-role="th">Per Capita Income</th>
<th data-quarto-table-cell-role="th">Unemployment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Rogers Park</td>
<td>16.4</td>
<td>62.0</td>
<td>11.0</td>
<td>73.0</td>
<td>11.2</td>
<td>40.8</td>
<td>7.7</td>
<td>23.3</td>
<td>...</td>
<td>0.5</td>
<td>322.5</td>
<td>423.3</td>
<td>11.4</td>
<td>22.7</td>
<td>7.9</td>
<td>28.8</td>
<td>18.1</td>
<td>23714</td>
<td>7.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>West Ridge</td>
<td>17.3</td>
<td>83.3</td>
<td>8.1</td>
<td>71.1</td>
<td>8.3</td>
<td>29.9</td>
<td>5.8</td>
<td>20.2</td>
<td>...</td>
<td>1.0</td>
<td>141.0</td>
<td>205.7</td>
<td>8.9</td>
<td>15.1</td>
<td>7.0</td>
<td>38.3</td>
<td>19.6</td>
<td>21375</td>
<td>7.9</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>Uptown</td>
<td>13.1</td>
<td>50.5</td>
<td>8.3</td>
<td>77.7</td>
<td>10.3</td>
<td>35.1</td>
<td>5.4</td>
<td>21.3</td>
<td>...</td>
<td>0.5</td>
<td>170.8</td>
<td>468.7</td>
<td>13.6</td>
<td>22.7</td>
<td>4.6</td>
<td>22.2</td>
<td>13.6</td>
<td>32355</td>
<td>7.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>Lincoln Square</td>
<td>17.1</td>
<td>61.0</td>
<td>8.1</td>
<td>80.5</td>
<td>9.7</td>
<td>38.4</td>
<td>5.0</td>
<td>21.7</td>
<td>...</td>
<td>0.4</td>
<td>98.8</td>
<td>195.5</td>
<td>8.5</td>
<td>9.5</td>
<td>3.1</td>
<td>25.6</td>
<td>12.5</td>
<td>35503</td>
<td>6.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>North Center</td>
<td>22.4</td>
<td>76.2</td>
<td>9.1</td>
<td>80.4</td>
<td>9.8</td>
<td>8.4</td>
<td>1.0</td>
<td>16.6</td>
<td>...</td>
<td>0.9</td>
<td>85.4</td>
<td>188.6</td>
<td>1.9</td>
<td>7.1</td>
<td>0.2</td>
<td>25.5</td>
<td>5.4</td>
<td>51615</td>
<td>4.5</td>
</tr>
</tbody>
</table>

<p>5 rows × 29 columns</p>
</div>
</div>
</div>
<div id="f248e562" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace parentheses with empty strings, hyphens with underscores, and spaces with underscores in column names</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>data.columns <span class="op">=</span> data.columns.<span class="bu">str</span>.replace(<span class="vs">r"[()]"</span>, <span class="st">""</span>, regex<span class="op">=</span><span class="va">True</span>).<span class="bu">str</span>.replace(<span class="st">"-"</span>, <span class="st">"_"</span>).<span class="bu">str</span>.replace(<span class="st">" "</span>, <span class="st">"_"</span>).<span class="bu">str</span>.lower()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6c2cef26" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Remove unncessary columns</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>columns_to_drop <span class="op">=</span> [</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"childhood_blood_lead_level_screening"</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"childhood_lead_poisoning"</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"gonorrhea_in_females"</span>]</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> data.drop(columns<span class="op">=</span>columns_to_drop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="9a328c17" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-1. Create a table of cancer_all_sites (descending) by community area</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> altair <span class="im">as</span> alt</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select necessary columns from dataframe</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>cancer_table <span class="op">=</span> data[[<span class="st">"community_area"</span>, <span class="st">"community_area_name"</span>, <span class="st">"cancer_all_sites"</span>]].copy()</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop na and arrange by descending</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>cancer_table <span class="op">=</span> cancer_table.dropna(subset<span class="op">=</span>[<span class="st">"cancer_all_sites"</span>])</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>cancer_table <span class="op">=</span> cancer_table.sort_values(by<span class="op">=</span><span class="st">"cancer_all_sites"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate index</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>cancer_table.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-2. Create a table of diabetes_related (descending) by community area</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Select necessary columns from dataframe</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>diabetes_table <span class="op">=</span> data[[<span class="st">"community_area"</span>, <span class="st">"community_area_name"</span>, <span class="st">"diabetes_related"</span>]].copy()</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop na and arrange by descending</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>diabetes_table <span class="op">=</span> diabetes_table.dropna(subset<span class="op">=</span>[<span class="st">"diabetes_related"</span>])</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>diabetes_table <span class="op">=</span> diabetes_table.sort_values(by<span class="op">=</span><span class="st">"diabetes_related"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate index</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>diabetes_table.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-4. Create a table of below_poverty_level (descending) by community area</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Select necessary columns from dataframe</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>poverty_table <span class="op">=</span> data[[<span class="st">"community_area"</span>, <span class="st">"community_area_name"</span>, <span class="st">"below_poverty_level"</span>]].copy()</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop na and arrange by descending</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>poverty_table <span class="op">=</span> poverty_table.dropna(subset<span class="op">=</span>[<span class="st">"below_poverty_level"</span>])</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>poverty_table <span class="op">=</span> poverty_table.sort_values(by<span class="op">=</span><span class="st">"below_poverty_level"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate index</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>poverty_table.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-5. Create a table of no_high_school_diploma (descending) by community area</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Select necessary columns from dataframe</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>education_table <span class="op">=</span> data[[<span class="st">"community_area"</span>, <span class="st">"community_area_name"</span>, <span class="st">"no_high_school_diploma"</span>]].copy()</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop na and arrange by descending</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>education_table <span class="op">=</span> education_table.dropna(subset<span class="op">=</span>[<span class="st">"no_high_school_diploma"</span>])</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>education_table <span class="op">=</span> education_table.sort_values(by<span class="op">=</span><span class="st">"no_high_school_diploma"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate index</span></span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>education_table.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-6. Create a table of per_capita_income (descending) by community area</span></span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Select necessary columns from dataframe</span></span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>income_table <span class="op">=</span> data[[<span class="st">"community_area"</span>, <span class="st">"community_area_name"</span>, <span class="st">"per_capita_income"</span>]].copy()</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop na and arrange by descending</span></span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>income_table <span class="op">=</span> income_table.dropna(subset<span class="op">=</span>[<span class="st">"per_capita_income"</span>])</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>income_table <span class="op">=</span> income_table.sort_values(by<span class="op">=</span><span class="st">"per_capita_income"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate index</span></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>income_table.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-7. Create a table of unemployment (descending) by community area</span></span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Select necessary columns from dataframe</span></span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>unemployment_table <span class="op">=</span> data[[<span class="st">"community_area"</span>, <span class="st">"community_area_name"</span>, <span class="st">"unemployment"</span>]].copy()</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop na and arrange by descending</span></span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a>unemployment_table <span class="op">=</span> unemployment_table.dropna(subset<span class="op">=</span>[<span class="st">"unemployment"</span>])</span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a>unemployment_table <span class="op">=</span> unemployment_table.sort_values(by<span class="op">=</span><span class="st">"unemployment"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-69"><a href="#cb17-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Initiate index</span></span>
<span id="cb17-70"><a href="#cb17-70" aria-hidden="true" tabindex="-1"></a>unemployment_table.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7eee1846" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-8. Create a table of cancer_all_sites (descending) by community area</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Extractn top 10 community areas</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>top_10_cancer_areas <span class="op">=</span> cancer_table.head(<span class="dv">10</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>bar_chart_cancer <span class="op">=</span> alt.Chart(top_10_cancer_areas).mark_bar().encode(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"cancer_all_sites:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"community_area_name:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Community Area"</span>),</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"community_area_name"</span>, <span class="st">"cancer_all_sites"</span>]</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Community Areas with Highest Cancer Index"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>bar_chart_cancer.show()</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-9. Create a table of diabetes_related (descending) by community area</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Extractn top 10 community areas</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>top_10_diabetes_areas <span class="op">=</span> diabetes_table.head(<span class="dv">10</span>)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>bar_chart_diabetes <span class="op">=</span> alt.Chart(top_10_diabetes_areas).mark_bar().encode(</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"diabetes_related:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"community_area_name:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Community Area"</span>),</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"community_area_name"</span>, <span class="st">"diabetes_related"</span>]</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Community Areas with Highest Diabetes Index"</span>,</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>bar_chart_diabetes.show()</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-11. Create a table of below_poverty_level (descending) by community area</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Extractn top 10 community areas</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>top_10_poverty_areas <span class="op">=</span> poverty_table.head(<span class="dv">10</span>)</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>bar_chart_poverty <span class="op">=</span> alt.Chart(top_10_poverty_areas).mark_bar().encode(</span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"below_poverty_level:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"community_area_name:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Community Area"</span>),</span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"community_area_name"</span>, <span class="st">"below_poverty_level"</span>]</span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Community Areas with Highest Poverty Index"</span>,</span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a>bar_chart_poverty.show()</span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-12. Create a table of no_high_school_diploma (descending) by community area</span></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Extractn top 10 community areas</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a>top_10_education_areas <span class="op">=</span> education_table.head(<span class="dv">10</span>)</span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>bar_chart_education <span class="op">=</span> alt.Chart(top_10_education_areas).mark_bar().encode(</span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"no_high_school_diploma:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"community_area_name:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Community Area"</span>),</span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"community_area_name"</span>, <span class="st">"no_high_school_diploma"</span>]</span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Community Areas with Highest No Education Index"</span>,</span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a>bar_chart_education.show()</span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-13. Create a table of per_capita_income (descending) by community area</span></span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Extractn top 10 community areas</span></span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a>top_10_income_areas <span class="op">=</span> income_table.head(<span class="dv">10</span>)</span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb18-78"><a href="#cb18-78" aria-hidden="true" tabindex="-1"></a>bar_chart_income <span class="op">=</span> alt.Chart(top_10_income_areas).mark_bar().encode(</span>
<span id="cb18-79"><a href="#cb18-79" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"per_capita_income:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb18-80"><a href="#cb18-80" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"community_area_name:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Community Area"</span>),</span>
<span id="cb18-81"><a href="#cb18-81" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"community_area_name"</span>, <span class="st">"per_capita_income"</span>]</span>
<span id="cb18-82"><a href="#cb18-82" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb18-83"><a href="#cb18-83" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Community Areas with Highest Income (per capita) Index"</span>,</span>
<span id="cb18-84"><a href="#cb18-84" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb18-85"><a href="#cb18-85" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb18-86"><a href="#cb18-86" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-87"><a href="#cb18-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-88"><a href="#cb18-88" aria-hidden="true" tabindex="-1"></a>bar_chart_income.show()</span>
<span id="cb18-89"><a href="#cb18-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-90"><a href="#cb18-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-91"><a href="#cb18-91" aria-hidden="true" tabindex="-1"></a><span class="co"># 3-14. Create a table of unemployment (descending) by community area</span></span>
<span id="cb18-92"><a href="#cb18-92" aria-hidden="true" tabindex="-1"></a><span class="co"># Extractn top 10 community areas</span></span>
<span id="cb18-93"><a href="#cb18-93" aria-hidden="true" tabindex="-1"></a>top_10_unemployment_areas <span class="op">=</span> unemployment_table.head(<span class="dv">10</span>)</span>
<span id="cb18-94"><a href="#cb18-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-95"><a href="#cb18-95" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar chart</span></span>
<span id="cb18-96"><a href="#cb18-96" aria-hidden="true" tabindex="-1"></a>bar_chart_unemployment <span class="op">=</span> alt.Chart(top_10_unemployment_areas).mark_bar().encode(</span>
<span id="cb18-97"><a href="#cb18-97" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="st">"unemployment:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb18-98"><a href="#cb18-98" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="st">"community_area_name:N"</span>, sort<span class="op">=</span><span class="st">"-x"</span>, title<span class="op">=</span><span class="st">"Community Area"</span>),</span>
<span id="cb18-99"><a href="#cb18-99" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[<span class="st">"community_area_name"</span>, <span class="st">"unemployment"</span>]</span>
<span id="cb18-100"><a href="#cb18-100" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb18-101"><a href="#cb18-101" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Top 10 Community Areas with Highest Unemployment Index"</span>,</span>
<span id="cb18-102"><a href="#cb18-102" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">600</span>,</span>
<span id="cb18-103"><a href="#cb18-103" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb18-104"><a href="#cb18-104" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-105"><a href="#cb18-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-106"><a href="#cb18-106" aria-hidden="true" tabindex="-1"></a>bar_chart_unemployment.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<style>
  #altair-viz-c940315bcfd34200be83158240b95f2b.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-c940315bcfd34200be83158240b95f2b.vega-embed details,
  #altair-viz-c940315bcfd34200be83158240b95f2b.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-c940315bcfd34200be83158240b95f2b"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c940315bcfd34200be83158240b95f2b") {
      outputDiv = document.getElementById("altair-viz-c940315bcfd34200be83158240b95f2b");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-96d163645b2cb2c80ba3762ef146d745"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "community_area_name", "type": "nominal"}, {"field": "cancer_all_sites", "type": "quantitative"}], "x": {"field": "cancer_all_sites", "title": "Cancer (All Sites)", "type": "quantitative"}, "y": {"field": "community_area_name", "sort": "-x", "title": "Community Area", "type": "nominal"}}, "height": 400, "title": "Top 10 Community Areas with Highest Cancer Index", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-96d163645b2cb2c80ba3762ef146d745": [{"community_area": 26, "community_area_name": "West Garfield Park", "cancer_all_sites": 291.5}, {"community_area": 69, "community_area_name": "Greater Grand Crossing", "cancer_all_sites": 274.4}, {"community_area": 35, "community_area_name": "Douglas", "cancer_all_sites": 269.9}, {"community_area": 53, "community_area_name": "West Pullman", "cancer_all_sites": 263.6}, {"community_area": 50, "community_area_name": "Pullman", "cancer_all_sites": 262.5}, {"community_area": 25, "community_area_name": "Austin", "cancer_all_sites": 261.9}, {"community_area": 29, "community_area_name": "North Lawndale", "cancer_all_sites": 261.5}, {"community_area": 73, "community_area_name": "Washington Heights", "cancer_all_sites": 260.6}, {"community_area": 37, "community_area_name": "Fuller Park", "cancer_all_sites": 258.9}, {"community_area": 49, "community_area_name": "Roseland", "cancer_all_sites": 258.5}]}}, {"mode": "vega-lite"});
</script>
</div>
<div class="cell-output cell-output-display">

<style>
  #altair-viz-40bdfaf6b83e49bc8e7b2a61728cfcd8.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-40bdfaf6b83e49bc8e7b2a61728cfcd8.vega-embed details,
  #altair-viz-40bdfaf6b83e49bc8e7b2a61728cfcd8.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-40bdfaf6b83e49bc8e7b2a61728cfcd8"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-40bdfaf6b83e49bc8e7b2a61728cfcd8") {
      outputDiv = document.getElementById("altair-viz-40bdfaf6b83e49bc8e7b2a61728cfcd8");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-90566597be1c97ce0cab95e55cffc05f"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "community_area_name", "type": "nominal"}, {"field": "diabetes_related", "type": "quantitative"}], "x": {"field": "diabetes_related", "title": "Cancer (All Sites)", "type": "quantitative"}, "y": {"field": "community_area_name", "sort": "-x", "title": "Community Area", "type": "nominal"}}, "height": 400, "title": "Top 10 Community Areas with Highest Diabetes Index", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-90566597be1c97ce0cab95e55cffc05f": [{"community_area": 35, "community_area_name": "Douglas", "diabetes_related": 119.1}, {"community_area": 26, "community_area_name": "West Garfield Park", "diabetes_related": 118.2}, {"community_area": 54, "community_area_name": "Riverdale", "diabetes_related": 115.9}, {"community_area": 25, "community_area_name": "Austin", "diabetes_related": 113.9}, {"community_area": 37, "community_area_name": "Fuller Park", "diabetes_related": 111.7}, {"community_area": 24, "community_area_name": "West Town", "diabetes_related": 107.0}, {"community_area": 68, "community_area_name": "Englewood", "diabetes_related": 101.8}, {"community_area": 29, "community_area_name": "North Lawndale", "diabetes_related": 99.2}, {"community_area": 27, "community_area_name": "East Garfield Park", "diabetes_related": 97.3}, {"community_area": 49, "community_area_name": "Roseland", "diabetes_related": 95.5}]}}, {"mode": "vega-lite"});
</script>
</div>
<div class="cell-output cell-output-display">

<style>
  #altair-viz-4db7bddfded94ce085443ac6f000abe4.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-4db7bddfded94ce085443ac6f000abe4.vega-embed details,
  #altair-viz-4db7bddfded94ce085443ac6f000abe4.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-4db7bddfded94ce085443ac6f000abe4"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-4db7bddfded94ce085443ac6f000abe4") {
      outputDiv = document.getElementById("altair-viz-4db7bddfded94ce085443ac6f000abe4");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-9e92e10e6813a60d7ff72fe1f12a2542"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "community_area_name", "type": "nominal"}, {"field": "below_poverty_level", "type": "quantitative"}], "x": {"field": "below_poverty_level", "title": "Cancer (All Sites)", "type": "quantitative"}, "y": {"field": "community_area_name", "sort": "-x", "title": "Community Area", "type": "nominal"}}, "height": 400, "title": "Top 10 Community Areas with Highest Poverty Index", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-9e92e10e6813a60d7ff72fe1f12a2542": [{"community_area": 54, "community_area_name": "Riverdale", "below_poverty_level": 61.4}, {"community_area": 37, "community_area_name": "Fuller Park", "below_poverty_level": 55.5}, {"community_area": 68, "community_area_name": "Englewood", "below_poverty_level": 42.2}, {"community_area": 26, "community_area_name": "West Garfield Park", "below_poverty_level": 40.3}, {"community_area": 27, "community_area_name": "East Garfield Park", "below_poverty_level": 39.7}, {"community_area": 40, "community_area_name": "Washington Park", "below_poverty_level": 39.1}, {"community_area": 29, "community_area_name": "North Lawndale", "below_poverty_level": 38.6}, {"community_area": 36, "community_area_name": "Oakland", "below_poverty_level": 38.1}, {"community_area": 34, "community_area_name": "Armour Square", "below_poverty_level": 35.8}, {"community_area": 23, "community_area_name": "Humboldt Park", "below_poverty_level": 32.6}]}}, {"mode": "vega-lite"});
</script>
</div>
<div class="cell-output cell-output-display">

<style>
  #altair-viz-68b2866bae374211914b17cb68921139.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-68b2866bae374211914b17cb68921139.vega-embed details,
  #altair-viz-68b2866bae374211914b17cb68921139.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-68b2866bae374211914b17cb68921139"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-68b2866bae374211914b17cb68921139") {
      outputDiv = document.getElementById("altair-viz-68b2866bae374211914b17cb68921139");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-47ec134dcf73c1c7cf495918244b96f6"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "community_area_name", "type": "nominal"}, {"field": "no_high_school_diploma", "type": "quantitative"}], "x": {"field": "no_high_school_diploma", "title": "Cancer (All Sites)", "type": "quantitative"}, "y": {"field": "community_area_name", "sort": "-x", "title": "Community Area", "type": "nominal"}}, "height": 400, "title": "Top 10 Community Areas with Highest No Education Index", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-47ec134dcf73c1c7cf495918244b96f6": [{"community_area": 30, "community_area_name": "South Lawndale", "no_high_school_diploma": 58.7}, {"community_area": 63, "community_area_name": "Gage Park", "no_high_school_diploma": 54.1}, {"community_area": 58, "community_area_name": "Brighton Park", "no_high_school_diploma": 48.2}, {"community_area": 31, "community_area_name": "Lower West Side", "no_high_school_diploma": 44.3}, {"community_area": 61, "community_area_name": "New City", "no_high_school_diploma": 42.4}, {"community_area": 20, "community_area_name": "Hermosa", "no_high_school_diploma": 41.9}, {"community_area": 62, "community_area_name": "West Elsdon", "no_high_school_diploma": 39.6}, {"community_area": 34, "community_area_name": "Armour Square", "no_high_school_diploma": 37.5}, {"community_area": 19, "community_area_name": "Belmont Cragin", "no_high_school_diploma": 37.0}, {"community_area": 23, "community_area_name": "Humboldt Park", "no_high_school_diploma": 36.8}]}}, {"mode": "vega-lite"});
</script>
</div>
<div class="cell-output cell-output-display">

<style>
  #altair-viz-1153441f4abc4b289b7733b48a4e71f7.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-1153441f4abc4b289b7733b48a4e71f7.vega-embed details,
  #altair-viz-1153441f4abc4b289b7733b48a4e71f7.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-1153441f4abc4b289b7733b48a4e71f7"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-1153441f4abc4b289b7733b48a4e71f7") {
      outputDiv = document.getElementById("altair-viz-1153441f4abc4b289b7733b48a4e71f7");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-032b04aecc437a3f66ba0677bd55573b"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "community_area_name", "type": "nominal"}, {"field": "per_capita_income", "type": "quantitative"}], "x": {"field": "per_capita_income", "title": "Cancer (All Sites)", "type": "quantitative"}, "y": {"field": "community_area_name", "sort": "-x", "title": "Community Area", "type": "nominal"}}, "height": 400, "title": "Top 10 Community Areas with Highest Income (per capita) Index", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-032b04aecc437a3f66ba0677bd55573b": [{"community_area": 8, "community_area_name": "Near North Side", "per_capita_income": 87163}, {"community_area": 7, "community_area_name": "Lincoln Park", "per_capita_income": 71403}, {"community_area": 32, "community_area_name": "Loop", "per_capita_income": 67699}, {"community_area": 33, "community_area_name": "Near South Side", "per_capita_income": 60593}, {"community_area": 6, "community_area_name": "Lake View", "per_capita_income": 58227}, {"community_area": 5, "community_area_name": "North Center", "per_capita_income": 51615}, {"community_area": 12, "community_area_name": "Forest Glen", "per_capita_income": 41509}, {"community_area": 28, "community_area_name": "Near West Side", "per_capita_income": 41488}, {"community_area": 72, "community_area_name": "Beverly", "per_capita_income": 40107}, {"community_area": 24, "community_area_name": "West Town", "per_capita_income": 39596}]}}, {"mode": "vega-lite"});
</script>
</div>
<div class="cell-output cell-output-display">

<style>
  #altair-viz-d66b6a84283e4135a459d7dd0e33fb26.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d66b6a84283e4135a459d7dd0e33fb26.vega-embed details,
  #altair-viz-d66b6a84283e4135a459d7dd0e33fb26.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d66b6a84283e4135a459d7dd0e33fb26"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d66b6a84283e4135a459d7dd0e33fb26") {
      outputDiv = document.getElementById("altair-viz-d66b6a84283e4135a459d7dd0e33fb26");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-1837aa884b049e01b511dfc7724feb6f"}, "mark": {"type": "bar"}, "encoding": {"tooltip": [{"field": "community_area_name", "type": "nominal"}, {"field": "unemployment", "type": "quantitative"}], "x": {"field": "unemployment", "title": "Cancer (All Sites)", "type": "quantitative"}, "y": {"field": "community_area_name", "sort": "-x", "title": "Community Area", "type": "nominal"}}, "height": 400, "title": "Top 10 Community Areas with Highest Unemployment Index", "width": 600, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-1837aa884b049e01b511dfc7724feb6f": [{"community_area": 37, "community_area_name": "Fuller Park", "unemployment": 40.0}, {"community_area": 67, "community_area_name": "West Englewood", "unemployment": 34.7}, {"community_area": 36, "community_area_name": "Oakland", "unemployment": 26.6}, {"community_area": 54, "community_area_name": "Riverdale", "unemployment": 26.4}, {"community_area": 26, "community_area_name": "West Garfield Park", "unemployment": 25.2}, {"community_area": 71, "community_area_name": "Auburn Gresham", "unemployment": 24.2}, {"community_area": 47, "community_area_name": "Burnside", "unemployment": 23.4}, {"community_area": 40, "community_area_name": "Washington Park", "unemployment": 23.2}, {"community_area": 68, "community_area_name": "Englewood", "unemployment": 21.3}, {"community_area": 25, "community_area_name": "Austin", "unemployment": 21.0}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p><img src="1_bar_cancer.png" class="img-fluid" alt="1_bar_cancer"> <img src="2_bar_diabetes.png" class="img-fluid" alt="2_bar_diabetes"> <img src="3_bar_turberculosis.png" class="img-fluid" alt="3_bar_turberculosis"> <img src="4_bar_poverty.png" class="img-fluid" alt="4_bar_poverty"> <img src="5_bar_education.png" class="img-fluid" alt="5_bar_education"> <img src="6_bar_income.png" class="img-fluid" alt="6_bar_income"> <img src="7_bar_unemployment.png" class="img-fluid" alt="7_bar_unemployment"></p>
<section id="choropleth-map" class="level3">
<h3 class="anchored" data-anchor-id="choropleth-map">Choropleth map</h3>
<div id="9f9de30a" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading chicago community shape file </span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>chi_shp <span class="op">=</span> gpd.read_file(<span class="st">"chicomm/chicomm.shp"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>chi_shp <span class="op">=</span> chi_shp.to_crs(epsg<span class="op">=</span><span class="dv">32616</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># spatial join demographic data</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>chi_dem <span class="op">=</span> pd.read_csv(<span class="st">"Public_Health_Statistics_-_Selected_public_health_indicators_by_Chicago_community_area_-_Historical_20241125.csv"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># fix the wrong community name </span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>chi_dem[<span class="st">"Community Area Name"</span>] <span class="op">=</span> chi_dem[<span class="st">"Community Area Name"</span>].replace(</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Montclaire"</span>: <span class="st">"Montclare"</span>}</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge shp with the demographic dataset</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>chi_shp_dem <span class="op">=</span> chi_shp.merge(chi_dem, left_on<span class="op">=</span><span class="st">"DISTITLE"</span>,right_on <span class="op">=</span> <span class="st">"Community Area Name"</span>, how<span class="op">=</span><span class="st">"outer"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>chi_shp_dem <span class="op">=</span> chi_shp_dem.to_crs(epsg<span class="op">=</span><span class="dv">32616</span>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># save the shape + demographic dataset for shiny</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>chi_shp_dem.to_file(<span class="st">"chi_shp_dem.geojson"</span>, driver<span class="op">=</span><span class="st">"GeoJSON"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="look-at-the-color-map-in-income-education-poverty-rate-and-health-outcome" class="level4">
<h4 class="anchored" data-anchor-id="look-at-the-color-map-in-income-education-poverty-rate-and-health-outcome">Look at the color map in income, education, poverty rate, and health outcome</h4>
<div id="976c58ce" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">'Cancer (All Sites)'</span>,<span class="st">'Diabetes-related'</span>, <span class="st">'Below Poverty Level'</span>,<span class="st">'No High School Diploma'</span>, <span class="st">'Per Capita Income'</span>, <span class="st">'Unemployment'</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> columns:</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    chi_shp_dem.plot(</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        column<span class="op">=</span>col, </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        legend<span class="op">=</span><span class="va">True</span>, </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        ax<span class="op">=</span>ax,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        cmap<span class="op">=</span><span class="st">"Blues"</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    ax.set_title(col)  <span class="co"># Set the title for the plot</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-16-output-1.png" width="428" height="427" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-16-output-2.png" width="427" height="427" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-16-output-3.png" width="419" height="427" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-16-output-4.png" width="419" height="427" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-16-output-5.png" width="444" height="427" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-16-output-6.png" width="419" height="427" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="linear-regression" class="level1">
<h1>5. Linear Regression</h1>
<p>Independent Variable (X) : below_poverty_level, no_high_school_diploma, per_capita_income, unemployment</p>
<p>Dependent Variable (Y) : cancer_all_sites, diabetes_related,breast_cancer_in_females,colorectal_cancer, infant_mortality_rate, lung_cancer, prostate_cancer_in_males, stroke_cerebrovascular_disease,</p>
<div id="747b7a3e" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-1. below_poverty_level ~ cancer_all_sites</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"below_poverty_level"</span>]) </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"cancer_all_sites"</span>]                    </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>model_1 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_1.summary())</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-2. no_high_school_diploma ~ cancer_all_sites</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"no_high_school_diploma"</span>]) </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"cancer_all_sites"</span>]                    </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>model_2 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_2.summary())</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-3. per_capita_income ~ cancer_all_sites</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"per_capita_income"</span>]) </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"cancer_all_sites"</span>]                    </span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>model_3 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_3.summary())</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-4. unemployment ~ cancer_all_sites</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"unemployment"</span>]) </span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"cancer_all_sites"</span>]                    </span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>model_4 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_4.summary())</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-1. below_poverty_level ~ diabetes_related</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"below_poverty_level"</span>]) </span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"diabetes_related"</span>]                    </span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>model_5 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_5.summary())</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-2. no_high_school_diploma ~ diabetes_related</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"no_high_school_diploma"</span>]) </span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"diabetes_related"</span>]                    </span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>model_6 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_6.summary())</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-3. per_capita_income ~ diabetes_related</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"per_capita_income"</span>]) </span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"diabetes_related"</span>]                    </span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>model_7 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_7.summary())</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-4. unemployment ~ diabetes_related</span></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> sm.add_constant(data[<span class="st">"unemployment"</span>]) </span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data[<span class="st">"diabetes_related"</span>]                    </span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>model_8 <span class="op">=</span> sm.OLS(y, x).fit()</span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model_8.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:       cancer_all_sites   R-squared:                       0.255
Model:                            OLS   Adj. R-squared:                  0.246
Method:                 Least Squares   F-statistic:                     25.73
Date:                Fri, 06 Dec 2024   Prob (F-statistic):           2.75e-06
Time:                        18:56:50   Log-Likelihood:                -391.62
No. Observations:                  77   AIC:                             787.2
Df Residuals:                      75   BIC:                             791.9
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
=======================================================================================
                          coef    std err          t      P&gt;|t|      [0.025      0.975]
---------------------------------------------------------------------------------------
const                 153.5515      9.213     16.668      0.000     135.199     171.904
below_poverty_level     2.0070      0.396      5.073      0.000       1.219       2.795
==============================================================================
Omnibus:                        7.011   Durbin-Watson:                   1.337
Prob(Omnibus):                  0.030   Jarque-Bera (JB):                2.777
Skew:                           0.075   Prob(JB):                        0.249
Kurtosis:                       2.082   Cond. No.                         47.5
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       cancer_all_sites   R-squared:                       0.000
Model:                            OLS   Adj. R-squared:                 -0.013
Method:                 Least Squares   F-statistic:                   0.01107
Date:                Fri, 06 Dec 2024   Prob (F-statistic):              0.916
Time:                        18:56:50   Log-Likelihood:                -402.97
No. Observations:                  77   AIC:                             809.9
Df Residuals:                      75   BIC:                             814.6
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==========================================================================================
                             coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------------------
const                    195.2472     10.598     18.423      0.000     174.135     216.359
no_high_school_diploma    -0.0449      0.427     -0.105      0.916      -0.895       0.805
==============================================================================
Omnibus:                       21.703   Durbin-Watson:                   1.195
Prob(Omnibus):                  0.000   Jarque-Bera (JB):                5.435
Skew:                           0.277   Prob(JB):                       0.0660
Kurtosis:                       1.823   Cond. No.                         50.3
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       cancer_all_sites   R-squared:                       0.195
Model:                            OLS   Adj. R-squared:                  0.184
Method:                 Least Squares   F-statistic:                     18.13
Date:                Fri, 06 Dec 2024   Prob (F-statistic):           5.90e-05
Time:                        18:56:50   Log-Likelihood:                -394.64
No. Observations:                  77   AIC:                             793.3
Df Residuals:                      75   BIC:                             798.0
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
=====================================================================================
                        coef    std err          t      P&gt;|t|      [0.025      0.975]
-------------------------------------------------------------------------------------
const               228.1009      9.229     24.715      0.000     209.715     246.486
per_capita_income    -0.0013      0.000     -4.258      0.000      -0.002      -0.001
==============================================================================
Omnibus:                       12.279   Durbin-Watson:                   1.217
Prob(Omnibus):                  0.002   Jarque-Bera (JB):                3.672
Skew:                          -0.098   Prob(JB):                        0.159
Kurtosis:                       1.948   Cond. No.                     5.73e+04
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 5.73e+04. This might indicate that there are
strong multicollinearity or other numerical problems.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       cancer_all_sites   R-squared:                       0.479
Model:                            OLS   Adj. R-squared:                  0.472
Method:                 Least Squares   F-statistic:                     68.95
Date:                Fri, 06 Dec 2024   Prob (F-statistic):           3.15e-12
Time:                        18:56:50   Log-Likelihood:                -377.87
No. Observations:                  77   AIC:                             759.7
Df Residuals:                      75   BIC:                             764.4
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const          134.5013      8.131     16.542      0.000     118.304     150.699
unemployment     4.4932      0.541      8.304      0.000       3.415       5.571
==============================================================================
Omnibus:                        1.059   Durbin-Watson:                   1.509
Prob(Omnibus):                  0.589   Jarque-Bera (JB):                1.120
Skew:                          -0.202   Prob(JB):                        0.571
Kurtosis:                       2.568   Cond. No.                         32.4
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       diabetes_related   R-squared:                       0.415
Model:                            OLS   Adj. R-squared:                  0.407
Method:                 Least Squares   F-statistic:                     53.24
Date:                Fri, 06 Dec 2024   Prob (F-statistic):           2.57e-10
Time:                        18:56:50   Log-Likelihood:                -324.34
No. Observations:                  77   AIC:                             652.7
Df Residuals:                      75   BIC:                             657.4
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
=======================================================================================
                          coef    std err          t      P&gt;|t|      [0.025      0.975]
---------------------------------------------------------------------------------------
const                  47.4889      3.845     12.351      0.000      39.829      55.149
below_poverty_level     1.2048      0.165      7.297      0.000       0.876       1.534
==============================================================================
Omnibus:                        2.674   Durbin-Watson:                   1.589
Prob(Omnibus):                  0.263   Jarque-Bera (JB):                2.164
Skew:                          -0.158   Prob(JB):                        0.339
Kurtosis:                       3.758   Cond. No.                         47.5
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       diabetes_related   R-squared:                       0.076
Model:                            OLS   Adj. R-squared:                  0.063
Method:                 Least Squares   F-statistic:                     6.132
Date:                Fri, 06 Dec 2024   Prob (F-statistic):             0.0155
Time:                        18:56:50   Log-Likelihood:                -341.96
No. Observations:                  77   AIC:                             687.9
Df Residuals:                      75   BIC:                             692.6
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==========================================================================================
                             coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------------------
const                     61.6071      4.799     12.838      0.000      52.048      71.167
no_high_school_diploma     0.4784      0.193      2.476      0.016       0.094       0.863
==============================================================================
Omnibus:                        2.773   Durbin-Watson:                   1.176
Prob(Omnibus):                  0.250   Jarque-Bera (JB):                2.293
Skew:                           0.297   Prob(JB):                        0.318
Kurtosis:                       2.399   Cond. No.                         50.3
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       diabetes_related   R-squared:                       0.362
Model:                            OLS   Adj. R-squared:                  0.354
Method:                 Least Squares   F-statistic:                     42.60
Date:                Fri, 06 Dec 2024   Prob (F-statistic):           7.06e-09
Time:                        18:56:50   Log-Likelihood:                -327.67
No. Observations:                  77   AIC:                             659.3
Df Residuals:                      75   BIC:                             664.0
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
=====================================================================================
                        coef    std err          t      P&gt;|t|      [0.025      0.975]
-------------------------------------------------------------------------------------
const                93.6633      3.868     24.217      0.000      85.959     101.368
per_capita_income    -0.0009      0.000     -6.527      0.000      -0.001      -0.001
==============================================================================
Omnibus:                        2.453   Durbin-Watson:                   1.446
Prob(Omnibus):                  0.293   Jarque-Bera (JB):                2.050
Skew:                           0.399   Prob(JB):                        0.359
Kurtosis:                       3.047   Cond. No.                     5.73e+04
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 5.73e+04. This might indicate that there are
strong multicollinearity or other numerical problems.
                            OLS Regression Results                            
==============================================================================
Dep. Variable:       diabetes_related   R-squared:                       0.489
Model:                            OLS   Adj. R-squared:                  0.482
Method:                 Least Squares   F-statistic:                     71.71
Date:                Fri, 06 Dec 2024   Prob (F-statistic):           1.53e-12
Time:                        18:56:50   Log-Likelihood:                -319.16
No. Observations:                  77   AIC:                             642.3
Df Residuals:                      75   BIC:                             647.0
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const           43.5027      3.793     11.470      0.000      35.947      51.058
unemployment     2.1373      0.252      8.468      0.000       1.635       2.640
==============================================================================
Omnibus:                        5.780   Durbin-Watson:                   1.690
Prob(Omnibus):                  0.056   Jarque-Bera (JB):                4.983
Skew:                           0.553   Prob(JB):                       0.0828
Kurtosis:                       3.576   Cond. No.                         32.4
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
</section>
<section id="crate-plots-with-the-analysis-outcomes." class="level1">
<h1>Crate plots with the analysis outcomes.</h1>
<div id="6b03a03b" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-1. below_poverty_level ~ cancer_all_sites</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>x_var_1 <span class="op">=</span> <span class="st">"below_poverty_level"</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>y_var_1 <span class="op">=</span> <span class="st">"cancer_all_sites"</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>scatter_plot_1 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_1<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Below Poverty Level (%)"</span>),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_1<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_1, y_var_1]</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_1<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_1<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>trend_line_1 <span class="op">=</span> scatter_plot_1.transform_regression(</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    x_var_1, y_var_1, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>final_chart_1 <span class="op">=</span> scatter_plot_1 <span class="op">+</span> trend_line_1</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>final_chart_1</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-2. no_high_school_diploma ~ cancer_all_sites</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>x_var_2 <span class="op">=</span> <span class="st">"no_high_school_diploma"</span></span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>y_var_2 <span class="op">=</span> <span class="st">"cancer_all_sites"</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>scatter_plot_2 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_2<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"No High School Diploma"</span>),</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_2<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_2, y_var_2]</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_2<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_2<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>trend_line_2 <span class="op">=</span> scatter_plot_2.transform_regression(</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>    x_var_2, y_var_2, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>final_chart_2 <span class="op">=</span> scatter_plot_2 <span class="op">+</span> trend_line_2</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>final_chart_2</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-3. per_capita_income ~ cancer_all_sites</span></span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>x_var_3 <span class="op">=</span> <span class="st">"per_capita_income"</span></span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>y_var_3 <span class="op">=</span> <span class="st">"cancer_all_sites"</span></span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>scatter_plot_3 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_3<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Per Capita Income"</span>),</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_3<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_3, y_var_3]</span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_3<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_3<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>trend_line_3 <span class="op">=</span> scatter_plot_3.transform_regression(</span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>    x_var_3, y_var_3, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a>final_chart_3 <span class="op">=</span> scatter_plot_3 <span class="op">+</span> trend_line_3</span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>final_chart_3</span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a><span class="co"># 1-4. unemployment ~ cancer_all_sites</span></span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>x_var_4 <span class="op">=</span> <span class="st">"unemployment"</span></span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a>y_var_4 <span class="op">=</span> <span class="st">"cancer_all_sites"</span></span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a>scatter_plot_4 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-89"><a href="#cb23-89" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_4<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Unemployment"</span>),</span>
<span id="cb23-90"><a href="#cb23-90" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_4<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Cancer (All Sites)"</span>),</span>
<span id="cb23-91"><a href="#cb23-91" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_4, y_var_4]</span>
<span id="cb23-92"><a href="#cb23-92" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-93"><a href="#cb23-93" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_4<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_4<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-94"><a href="#cb23-94" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-95"><a href="#cb23-95" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-96"><a href="#cb23-96" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-97"><a href="#cb23-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-98"><a href="#cb23-98" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-99"><a href="#cb23-99" aria-hidden="true" tabindex="-1"></a>trend_line_4 <span class="op">=</span> scatter_plot_4.transform_regression(</span>
<span id="cb23-100"><a href="#cb23-100" aria-hidden="true" tabindex="-1"></a>    x_var_4, y_var_4, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-101"><a href="#cb23-101" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-102"><a href="#cb23-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-103"><a href="#cb23-103" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-104"><a href="#cb23-104" aria-hidden="true" tabindex="-1"></a>final_chart_4 <span class="op">=</span> scatter_plot_4 <span class="op">+</span> trend_line_4</span>
<span id="cb23-105"><a href="#cb23-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-106"><a href="#cb23-106" aria-hidden="true" tabindex="-1"></a>final_chart_4</span>
<span id="cb23-107"><a href="#cb23-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-108"><a href="#cb23-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-109"><a href="#cb23-109" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-1. below_poverty_level ~ diabetes_related</span></span>
<span id="cb23-110"><a href="#cb23-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-111"><a href="#cb23-111" aria-hidden="true" tabindex="-1"></a>x_var_5 <span class="op">=</span> <span class="st">"below_poverty_level"</span></span>
<span id="cb23-112"><a href="#cb23-112" aria-hidden="true" tabindex="-1"></a>y_var_5 <span class="op">=</span> <span class="st">"diabetes_related"</span></span>
<span id="cb23-113"><a href="#cb23-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-114"><a href="#cb23-114" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-115"><a href="#cb23-115" aria-hidden="true" tabindex="-1"></a>scatter_plot_5 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-116"><a href="#cb23-116" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_5<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Below Poverty Level (%)"</span>),</span>
<span id="cb23-117"><a href="#cb23-117" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_5<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Diabetes Related"</span>),</span>
<span id="cb23-118"><a href="#cb23-118" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_5, y_var_5]</span>
<span id="cb23-119"><a href="#cb23-119" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-120"><a href="#cb23-120" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_5<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_5<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-121"><a href="#cb23-121" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-122"><a href="#cb23-122" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-123"><a href="#cb23-123" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-124"><a href="#cb23-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-125"><a href="#cb23-125" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-126"><a href="#cb23-126" aria-hidden="true" tabindex="-1"></a>trend_line_5 <span class="op">=</span> scatter_plot_5.transform_regression(</span>
<span id="cb23-127"><a href="#cb23-127" aria-hidden="true" tabindex="-1"></a>    x_var_5, y_var_5, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-128"><a href="#cb23-128" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-129"><a href="#cb23-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-130"><a href="#cb23-130" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-131"><a href="#cb23-131" aria-hidden="true" tabindex="-1"></a>final_chart_5 <span class="op">=</span> scatter_plot_5 <span class="op">+</span> trend_line_5</span>
<span id="cb23-132"><a href="#cb23-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-133"><a href="#cb23-133" aria-hidden="true" tabindex="-1"></a>final_chart_5</span>
<span id="cb23-134"><a href="#cb23-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-135"><a href="#cb23-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-136"><a href="#cb23-136" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-2. no_high_school_diploma ~ diabetes_related</span></span>
<span id="cb23-137"><a href="#cb23-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-138"><a href="#cb23-138" aria-hidden="true" tabindex="-1"></a>x_var_6 <span class="op">=</span> <span class="st">"no_high_school_diploma"</span></span>
<span id="cb23-139"><a href="#cb23-139" aria-hidden="true" tabindex="-1"></a>y_var_6 <span class="op">=</span> <span class="st">"diabetes_related"</span></span>
<span id="cb23-140"><a href="#cb23-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-141"><a href="#cb23-141" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-142"><a href="#cb23-142" aria-hidden="true" tabindex="-1"></a>scatter_plot_6 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-143"><a href="#cb23-143" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_6<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"No High School Diploma"</span>),</span>
<span id="cb23-144"><a href="#cb23-144" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_6<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Diabetes Related"</span>),</span>
<span id="cb23-145"><a href="#cb23-145" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_6, y_var_6]</span>
<span id="cb23-146"><a href="#cb23-146" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-147"><a href="#cb23-147" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_6<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_6<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-148"><a href="#cb23-148" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-149"><a href="#cb23-149" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-150"><a href="#cb23-150" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-151"><a href="#cb23-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-152"><a href="#cb23-152" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-153"><a href="#cb23-153" aria-hidden="true" tabindex="-1"></a>trend_line_6 <span class="op">=</span> scatter_plot_6.transform_regression(</span>
<span id="cb23-154"><a href="#cb23-154" aria-hidden="true" tabindex="-1"></a>    x_var_6, y_var_6, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-155"><a href="#cb23-155" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-156"><a href="#cb23-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-157"><a href="#cb23-157" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-158"><a href="#cb23-158" aria-hidden="true" tabindex="-1"></a>final_chart_6 <span class="op">=</span> scatter_plot_6 <span class="op">+</span> trend_line_6</span>
<span id="cb23-159"><a href="#cb23-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-160"><a href="#cb23-160" aria-hidden="true" tabindex="-1"></a>final_chart_6</span>
<span id="cb23-161"><a href="#cb23-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-162"><a href="#cb23-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-163"><a href="#cb23-163" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-3. per_capita_income ~ diabetes_related</span></span>
<span id="cb23-164"><a href="#cb23-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-165"><a href="#cb23-165" aria-hidden="true" tabindex="-1"></a>x_var_7 <span class="op">=</span> <span class="st">"per_capita_income"</span></span>
<span id="cb23-166"><a href="#cb23-166" aria-hidden="true" tabindex="-1"></a>y_var_7 <span class="op">=</span> <span class="st">"diabetes_related"</span></span>
<span id="cb23-167"><a href="#cb23-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-168"><a href="#cb23-168" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-169"><a href="#cb23-169" aria-hidden="true" tabindex="-1"></a>scatter_plot_7 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-170"><a href="#cb23-170" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_7<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Per Capita Income"</span>),</span>
<span id="cb23-171"><a href="#cb23-171" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_7<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Diabetes Related"</span>),</span>
<span id="cb23-172"><a href="#cb23-172" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_7, y_var_7]</span>
<span id="cb23-173"><a href="#cb23-173" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-174"><a href="#cb23-174" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_7<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_7<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-175"><a href="#cb23-175" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-176"><a href="#cb23-176" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-177"><a href="#cb23-177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-178"><a href="#cb23-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-179"><a href="#cb23-179" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-180"><a href="#cb23-180" aria-hidden="true" tabindex="-1"></a>trend_line_7 <span class="op">=</span> scatter_plot_7.transform_regression(</span>
<span id="cb23-181"><a href="#cb23-181" aria-hidden="true" tabindex="-1"></a>    x_var_7, y_var_7, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-182"><a href="#cb23-182" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-183"><a href="#cb23-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-184"><a href="#cb23-184" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-185"><a href="#cb23-185" aria-hidden="true" tabindex="-1"></a>final_chart_7 <span class="op">=</span> scatter_plot_7 <span class="op">+</span> trend_line_7</span>
<span id="cb23-186"><a href="#cb23-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-187"><a href="#cb23-187" aria-hidden="true" tabindex="-1"></a>final_chart_7</span>
<span id="cb23-188"><a href="#cb23-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-189"><a href="#cb23-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-190"><a href="#cb23-190" aria-hidden="true" tabindex="-1"></a><span class="co"># 2-4. unemployment ~ diabetes_related</span></span>
<span id="cb23-191"><a href="#cb23-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-192"><a href="#cb23-192" aria-hidden="true" tabindex="-1"></a>x_var_8 <span class="op">=</span> <span class="st">"unemployment"</span></span>
<span id="cb23-193"><a href="#cb23-193" aria-hidden="true" tabindex="-1"></a>y_var_8 <span class="op">=</span> <span class="st">"diabetes_related"</span></span>
<span id="cb23-194"><a href="#cb23-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-195"><a href="#cb23-195" aria-hidden="true" tabindex="-1"></a><span class="co"># Altair point plot</span></span>
<span id="cb23-196"><a href="#cb23-196" aria-hidden="true" tabindex="-1"></a>scatter_plot_8 <span class="op">=</span> alt.Chart(data).mark_point().encode(</span>
<span id="cb23-197"><a href="#cb23-197" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>alt.X(<span class="ss">f"</span><span class="sc">{</span>x_var_8<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Unemployment"</span>),</span>
<span id="cb23-198"><a href="#cb23-198" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>alt.Y(<span class="ss">f"</span><span class="sc">{</span>y_var_8<span class="sc">}</span><span class="ss">:Q"</span>, title<span class="op">=</span><span class="st">"Diabetes Related"</span>),</span>
<span id="cb23-199"><a href="#cb23-199" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[x_var_8, y_var_8]</span>
<span id="cb23-200"><a href="#cb23-200" aria-hidden="true" tabindex="-1"></a>).properties(</span>
<span id="cb23-201"><a href="#cb23-201" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="ss">f"Scatter Plot: </span><span class="sc">{</span>x_var_8<span class="sc">}</span><span class="ss"> vs </span><span class="sc">{</span>y_var_8<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb23-202"><a href="#cb23-202" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb23-203"><a href="#cb23-203" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">400</span></span>
<span id="cb23-204"><a href="#cb23-204" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-205"><a href="#cb23-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-206"><a href="#cb23-206" aria-hidden="true" tabindex="-1"></a><span class="co"># Add line</span></span>
<span id="cb23-207"><a href="#cb23-207" aria-hidden="true" tabindex="-1"></a>trend_line_8 <span class="op">=</span> scatter_plot_8.transform_regression(</span>
<span id="cb23-208"><a href="#cb23-208" aria-hidden="true" tabindex="-1"></a>    x_var_8, y_var_8, method<span class="op">=</span><span class="st">"linear"</span></span>
<span id="cb23-209"><a href="#cb23-209" aria-hidden="true" tabindex="-1"></a>).mark_line(color<span class="op">=</span><span class="st">"red"</span>)</span>
<span id="cb23-210"><a href="#cb23-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-211"><a href="#cb23-211" aria-hidden="true" tabindex="-1"></a><span class="co"># point plot + line</span></span>
<span id="cb23-212"><a href="#cb23-212" aria-hidden="true" tabindex="-1"></a>final_chart_8 <span class="op">=</span> scatter_plot_8 <span class="op">+</span> trend_line_8</span>
<span id="cb23-213"><a href="#cb23-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-214"><a href="#cb23-214" aria-hidden="true" tabindex="-1"></a>final_chart_8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">

<style>
  #altair-viz-897ab58cccda4337865667994bc221af.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-897ab58cccda4337865667994bc221af.vega-embed details,
  #altair-viz-897ab58cccda4337865667994bc221af.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-897ab58cccda4337865667994bc221af"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-897ab58cccda4337865667994bc221af") {
      outputDiv = document.getElementById("altair-viz-897ab58cccda4337865667994bc221af");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "layer": [{"mark": {"type": "point"}, "encoding": {"tooltip": [{"field": "unemployment", "type": "quantitative"}, {"field": "diabetes_related", "type": "quantitative"}], "x": {"field": "unemployment", "title": "Unemployment", "type": "quantitative"}, "y": {"field": "diabetes_related", "title": "Diabetes Related", "type": "quantitative"}}, "title": "Scatter Plot: unemployment vs diabetes_related"}, {"mark": {"type": "line", "color": "red"}, "encoding": {"tooltip": [{"field": "unemployment", "type": "quantitative"}, {"field": "diabetes_related", "type": "quantitative"}], "x": {"field": "unemployment", "title": "Unemployment", "type": "quantitative"}, "y": {"field": "diabetes_related", "title": "Diabetes Related", "type": "quantitative"}}, "title": "Scatter Plot: unemployment vs diabetes_related", "transform": [{"on": "unemployment", "regression": "diabetes_related", "method": "linear"}]}], "data": {"name": "data-f172d59a0592a9e44e940114ed5ae245"}, "height": 400, "width": 500, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-f172d59a0592a9e44e940114ed5ae245": [{"community_area": 1, "community_area_name": "Rogers Park", "birth_rate": 16.4, "general_fertility_rate": 62.0, "low_birth_weight": 11.0, "prenatal_care_beginning_in_first_trimester": 73.0, "preterm_births": 11.2, "teen_birth_rate": 40.8, "assault_homicide": 7.7, "breast_cancer_in_females": 23.3, "cancer_all_sites": 176.9, "colorectal_cancer": 25.3, "diabetes_related": 77.1, "firearm_related": 5.2, "infant_mortality_rate": 6.4, "lung_cancer": 36.7, "prostate_cancer_in_males": 21.7, "stroke_cerebrovascular_disease": 33.7, "gonorrhea_in_males": "423.3", "tuberculosis": 11.4, "below_poverty_level": 22.7, "crowded_housing": 7.9, "dependency": 28.8, "no_high_school_diploma": 18.1, "per_capita_income": 23714, "unemployment": 7.5}, {"community_area": 2, "community_area_name": "West Ridge", "birth_rate": 17.3, "general_fertility_rate": 83.3, "low_birth_weight": 8.1, "prenatal_care_beginning_in_first_trimester": 71.1, "preterm_births": 8.3, "teen_birth_rate": 29.9, "assault_homicide": 5.8, "breast_cancer_in_females": 20.2, "cancer_all_sites": 155.9, "colorectal_cancer": 17.3, "diabetes_related": 60.5, "firearm_related": 3.7, "infant_mortality_rate": 5.1, "lung_cancer": 36.0, "prostate_cancer_in_males": 14.2, "stroke_cerebrovascular_disease": 34.7, "gonorrhea_in_males": "205.7", "tuberculosis": 8.9, "below_poverty_level": 15.1, "crowded_housing": 7.0, "dependency": 38.3, "no_high_school_diploma": 19.6, "per_capita_income": 21375, "unemployment": 7.9}, {"community_area": 3, "community_area_name": "Uptown", "birth_rate": 13.1, "general_fertility_rate": 50.5, "low_birth_weight": 8.3, "prenatal_care_beginning_in_first_trimester": 77.7, "preterm_births": 10.3, "teen_birth_rate": 35.1, "assault_homicide": 5.4, "breast_cancer_in_females": 21.3, "cancer_all_sites": 183.3, "colorectal_cancer": 20.5, "diabetes_related": 80.0, "firearm_related": 4.6, "infant_mortality_rate": 6.5, "lung_cancer": 50.5, "prostate_cancer_in_males": 25.2, "stroke_cerebrovascular_disease": 41.7, "gonorrhea_in_males": "468.7", "tuberculosis": 13.6, "below_poverty_level": 22.7, "crowded_housing": 4.6, "dependency": 22.2, "no_high_school_diploma": 13.6, "per_capita_income": 32355, "unemployment": 7.7}, {"community_area": 4, "community_area_name": "Lincoln Square", "birth_rate": 17.1, "general_fertility_rate": 61.0, "low_birth_weight": 8.1, "prenatal_care_beginning_in_first_trimester": 80.5, "preterm_births": 9.7, "teen_birth_rate": 38.4, "assault_homicide": 5.0, "breast_cancer_in_females": 21.7, "cancer_all_sites": 153.2, "colorectal_cancer": 8.6, "diabetes_related": 55.4, "firearm_related": 6.1, "infant_mortality_rate": 3.8, "lung_cancer": 43.1, "prostate_cancer_in_males": 27.6, "stroke_cerebrovascular_disease": 36.9, "gonorrhea_in_males": "195.5", "tuberculosis": 8.5, "below_poverty_level": 9.5, "crowded_housing": 3.1, "dependency": 25.6, "no_high_school_diploma": 12.5, "per_capita_income": 35503, "unemployment": 6.8}, {"community_area": 5, "community_area_name": "North Center", "birth_rate": 22.4, "general_fertility_rate": 76.2, "low_birth_weight": 9.1, "prenatal_care_beginning_in_first_trimester": 80.4, "preterm_births": 9.8, "teen_birth_rate": 8.4, "assault_homicide": 1.0, "breast_cancer_in_females": 16.6, "cancer_all_sites": 152.1, "colorectal_cancer": 26.1, "diabetes_related": 49.8, "firearm_related": 1.0, "infant_mortality_rate": 2.7, "lung_cancer": 42.4, "prostate_cancer_in_males": 15.1, "stroke_cerebrovascular_disease": 41.6, "gonorrhea_in_males": "188.6", "tuberculosis": 1.9, "below_poverty_level": 7.1, "crowded_housing": 0.2, "dependency": 25.5, "no_high_school_diploma": 5.4, "per_capita_income": 51615, "unemployment": 4.5}, {"community_area": 6, "community_area_name": "Lake View", "birth_rate": 13.5, "general_fertility_rate": 38.7, "low_birth_weight": 6.3, "prenatal_care_beginning_in_first_trimester": 79.1, "preterm_births": 8.1, "teen_birth_rate": 15.8, "assault_homicide": 1.4, "breast_cancer_in_females": 20.1, "cancer_all_sites": 126.9, "colorectal_cancer": 13.0, "diabetes_related": 38.5, "firearm_related": 1.8, "infant_mortality_rate": 2.2, "lung_cancer": 32.5, "prostate_cancer_in_males": 17.0, "stroke_cerebrovascular_disease": 24.4, "gonorrhea_in_males": "357.6", "tuberculosis": 3.2, "below_poverty_level": 10.5, "crowded_housing": 1.2, "dependency": 16.5, "no_high_school_diploma": 2.9, "per_capita_income": 58227, "unemployment": 4.7}, {"community_area": 7, "community_area_name": "Lincoln Park", "birth_rate": 13.2, "general_fertility_rate": 38.7, "low_birth_weight": 6.6, "prenatal_care_beginning_in_first_trimester": 75.7, "preterm_births": 7.8, "teen_birth_rate": 2.1, "assault_homicide": 0.7, "breast_cancer_in_females": 23.7, "cancer_all_sites": 152.9, "colorectal_cancer": 16.7, "diabetes_related": 50.1, "firearm_related": 2.3, "infant_mortality_rate": 2.4, "lung_cancer": 40.0, "prostate_cancer_in_males": 27.3, "stroke_cerebrovascular_disease": 35.3, "gonorrhea_in_males": "93.1", "tuberculosis": 1.2, "below_poverty_level": 11.8, "crowded_housing": 0.6, "dependency": 20.4, "no_high_school_diploma": 4.3, "per_capita_income": 71403, "unemployment": 4.5}, {"community_area": 8, "community_area_name": "Near North Side", "birth_rate": 10.7, "general_fertility_rate": 35.9, "low_birth_weight": 8.6, "prenatal_care_beginning_in_first_trimester": 69.7, "preterm_births": 9.6, "teen_birth_rate": 34.0, "assault_homicide": 3.7, "breast_cancer_in_females": 24.0, "cancer_all_sites": 142.7, "colorectal_cancer": 15.1, "diabetes_related": 27.0, "firearm_related": 3.2, "infant_mortality_rate": 6.5, "lung_cancer": 33.6, "prostate_cancer_in_males": 15.1, "stroke_cerebrovascular_disease": 22.0, "gonorrhea_in_males": "235.8", "tuberculosis": 5.5, "below_poverty_level": 13.4, "crowded_housing": 2.0, "dependency": 23.3, "no_high_school_diploma": 3.4, "per_capita_income": 87163, "unemployment": 5.2}, {"community_area": 9, "community_area_name": "Edison Park", "birth_rate": 11.3, "general_fertility_rate": 59.5, "low_birth_weight": 7.9, "prenatal_care_beginning_in_first_trimester": 86.6, "preterm_births": 12.6, "teen_birth_rate": 3.9, "assault_homicide": 0.0, "breast_cancer_in_females": 13.8, "cancer_all_sites": 189.7, "colorectal_cancer": 15.1, "diabetes_related": 53.0, "firearm_related": 7.1, "infant_mortality_rate": 4.6, "lung_cancer": 45.2, "prostate_cancer_in_males": 28.0, "stroke_cerebrovascular_disease": 38.9, "gonorrhea_in_males": ".", "tuberculosis": 1.8, "below_poverty_level": 5.1, "crowded_housing": 0.6, "dependency": 36.6, "no_high_school_diploma": 8.5, "per_capita_income": 38337, "unemployment": 7.4}, {"community_area": 10, "community_area_name": "Norwood Park", "birth_rate": 10.4, "general_fertility_rate": 59.6, "low_birth_weight": 4.9, "prenatal_care_beginning_in_first_trimester": 89.4, "preterm_births": 8.3, "teen_birth_rate": 3.4, "assault_homicide": 4.7, "breast_cancer_in_females": 20.7, "cancer_all_sites": 180.8, "colorectal_cancer": 18.9, "diabetes_related": 47.3, "firearm_related": 8.7, "infant_mortality_rate": 4.4, "lung_cancer": 44.5, "prostate_cancer_in_males": 26.4, "stroke_cerebrovascular_disease": 45.2, "gonorrhea_in_males": ".", "tuberculosis": 1.6, "below_poverty_level": 5.9, "crowded_housing": 2.3, "dependency": 40.6, "no_high_school_diploma": 13.5, "per_capita_income": 31659, "unemployment": 7.3}, {"community_area": 11, "community_area_name": "Jefferson Park", "birth_rate": 13.8, "general_fertility_rate": 67.8, "low_birth_weight": 6.6, "prenatal_care_beginning_in_first_trimester": 82.9, "preterm_births": 7.7, "teen_birth_rate": 28.6, "assault_homicide": 4.8, "breast_cancer_in_females": 18.4, "cancer_all_sites": 208.2, "colorectal_cancer": 23.2, "diabetes_related": 49.2, "firearm_related": 4.2, "infant_mortality_rate": 8.3, "lung_cancer": 55.7, "prostate_cancer_in_males": 32.1, "stroke_cerebrovascular_disease": 41.9, "gonorrhea_in_males": ".", "tuberculosis": 7.1, "below_poverty_level": 6.4, "crowded_housing": 1.9, "dependency": 34.4, "no_high_school_diploma": 13.5, "per_capita_income": 27280, "unemployment": 9.0}, {"community_area": 12, "community_area_name": "Forest Glen", "birth_rate": 10.0, "general_fertility_rate": 60.6, "low_birth_weight": 7.6, "prenatal_care_beginning_in_first_trimester": 79.3, "preterm_births": 10.3, "teen_birth_rate": 6.3, "assault_homicide": 3.3, "breast_cancer_in_females": 25.0, "cancer_all_sites": 138.7, "colorectal_cancer": 14.3, "diabetes_related": 37.2, "firearm_related": 6.2, "infant_mortality_rate": 3.8, "lung_cancer": 27.0, "prostate_cancer_in_males": 20.3, "stroke_cerebrovascular_disease": 31.0, "gonorrhea_in_males": ".", "tuberculosis": 2.2, "below_poverty_level": 6.1, "crowded_housing": 1.3, "dependency": 40.6, "no_high_school_diploma": 6.3, "per_capita_income": 41509, "unemployment": 5.5}, {"community_area": 13, "community_area_name": "North Park", "birth_rate": 10.9, "general_fertility_rate": 54.2, "low_birth_weight": 9.7, "prenatal_care_beginning_in_first_trimester": 79.1, "preterm_births": 10.2, "teen_birth_rate": 10.5, "assault_homicide": 3.0, "breast_cancer_in_females": 20.4, "cancer_all_sites": 143.7, "colorectal_cancer": 21.9, "diabetes_related": 58.9, "firearm_related": 3.1, "infant_mortality_rate": 5.4, "lung_cancer": 34.7, "prostate_cancer_in_males": 14.6, "stroke_cerebrovascular_disease": 26.7, "gonorrhea_in_males": ".", "tuberculosis": 8.9, "below_poverty_level": 12.4, "crowded_housing": 3.8, "dependency": 39.7, "no_high_school_diploma": 18.2, "per_capita_income": 24941, "unemployment": 7.5}, {"community_area": 14, "community_area_name": "Albany Park", "birth_rate": 18.3, "general_fertility_rate": 76.5, "low_birth_weight": 8.5, "prenatal_care_beginning_in_first_trimester": 73.3, "preterm_births": 8.3, "teen_birth_rate": 44.5, "assault_homicide": 4.7, "breast_cancer_in_females": 22.9, "cancer_all_sites": 158.1, "colorectal_cancer": 16.8, "diabetes_related": 72.1, "firearm_related": 5.3, "infant_mortality_rate": 4.9, "lung_cancer": 36.9, "prostate_cancer_in_males": 13.1, "stroke_cerebrovascular_disease": 39.1, "gonorrhea_in_males": "101.8", "tuberculosis": 16.8, "below_poverty_level": 17.1, "crowded_housing": 11.2, "dependency": 32.1, "no_high_school_diploma": 34.9, "per_capita_income": 20355, "unemployment": 9.0}, {"community_area": 15, "community_area_name": "Portage Park", "birth_rate": 14.2, "general_fertility_rate": 66.1, "low_birth_weight": 6.9, "prenatal_care_beginning_in_first_trimester": 79.8, "preterm_births": 8.7, "teen_birth_rate": 41.7, "assault_homicide": 3.3, "breast_cancer_in_females": 23.3, "cancer_all_sites": 168.7, "colorectal_cancer": 15.9, "diabetes_related": 48.2, "firearm_related": 4.7, "infant_mortality_rate": 4.7, "lung_cancer": 44.9, "prostate_cancer_in_males": 14.8, "stroke_cerebrovascular_disease": 37.9, "gonorrhea_in_males": "84.9", "tuberculosis": 4.0, "below_poverty_level": 12.3, "crowded_housing": 4.4, "dependency": 34.6, "no_high_school_diploma": 18.7, "per_capita_income": 23617, "unemployment": 10.6}, {"community_area": 16, "community_area_name": "Irving Park", "birth_rate": 15.8, "general_fertility_rate": 67.1, "low_birth_weight": 7.7, "prenatal_care_beginning_in_first_trimester": 79.9, "preterm_births": 10.2, "teen_birth_rate": 37.0, "assault_homicide": 4.1, "breast_cancer_in_females": 29.9, "cancer_all_sites": 169.4, "colorectal_cancer": 19.2, "diabetes_related": 60.2, "firearm_related": 5.7, "infant_mortality_rate": 5.3, "lung_cancer": 41.3, "prostate_cancer_in_males": 17.9, "stroke_cerebrovascular_disease": 42.0, "gonorrhea_in_males": "74.5", "tuberculosis": 9.3, "below_poverty_level": 10.8, "crowded_housing": 5.6, "dependency": 31.6, "no_high_school_diploma": 22.0, "per_capita_income": 26713, "unemployment": 10.3}, {"community_area": 17, "community_area_name": "Dunning", "birth_rate": 12.5, "general_fertility_rate": 64.7, "low_birth_weight": 6.8, "prenatal_care_beginning_in_first_trimester": 82.7, "preterm_births": 9.9, "teen_birth_rate": 19.9, "assault_homicide": 3.7, "breast_cancer_in_females": 23.7, "cancer_all_sites": 191.5, "colorectal_cancer": 25.9, "diabetes_related": 42.5, "firearm_related": 5.2, "infant_mortality_rate": 4.9, "lung_cancer": 53.9, "prostate_cancer_in_males": 24.4, "stroke_cerebrovascular_disease": 32.0, "gonorrhea_in_males": "70.1", "tuberculosis": 2.4, "below_poverty_level": 8.3, "crowded_housing": 4.8, "dependency": 34.9, "no_high_school_diploma": 18.0, "per_capita_income": 26347, "unemployment": 8.6}, {"community_area": 18, "community_area_name": "Montclaire", "birth_rate": 17.1, "general_fertility_rate": 83.5, "low_birth_weight": 8.3, "prenatal_care_beginning_in_first_trimester": 77.6, "preterm_births": 8.8, "teen_birth_rate": 61.5, "assault_homicide": 8.6, "breast_cancer_in_females": 29.9, "cancer_all_sites": 151.0, "colorectal_cancer": 15.4, "diabetes_related": 89.6, "firearm_related": 6.5, "infant_mortality_rate": 4.6, "lung_cancer": 33.4, "prostate_cancer_in_males": 21.9, "stroke_cerebrovascular_disease": 40.3, "gonorrhea_in_males": ".", "tuberculosis": 3.0, "below_poverty_level": 12.8, "crowded_housing": 5.8, "dependency": 35.0, "no_high_school_diploma": 28.4, "per_capita_income": 21257, "unemployment": 10.8}, {"community_area": 19, "community_area_name": "Belmont Cragin", "birth_rate": 20.0, "general_fertility_rate": 88.6, "low_birth_weight": 6.9, "prenatal_care_beginning_in_first_trimester": 74.1, "preterm_births": 7.6, "teen_birth_rate": 68.2, "assault_homicide": 7.0, "breast_cancer_in_females": 14.4, "cancer_all_sites": 152.6, "colorectal_cancer": 17.7, "diabetes_related": 58.6, "firearm_related": 5.5, "infant_mortality_rate": 5.6, "lung_cancer": 37.8, "prostate_cancer_in_males": 27.3, "stroke_cerebrovascular_disease": 38.2, "gonorrhea_in_males": "140.9", "tuberculosis": 9.4, "below_poverty_level": 18.6, "crowded_housing": 10.0, "dependency": 36.9, "no_high_school_diploma": 37.0, "per_capita_income": 15246, "unemployment": 11.5}, {"community_area": 20, "community_area_name": "Hermosa", "birth_rate": 20.3, "general_fertility_rate": 86.7, "low_birth_weight": 6.7, "prenatal_care_beginning_in_first_trimester": 77.5, "preterm_births": 8.8, "teen_birth_rate": 69.7, "assault_homicide": 12.7, "breast_cancer_in_females": 18.4, "cancer_all_sites": 135.2, "colorectal_cancer": 15.6, "diabetes_related": 63.6, "firearm_related": 11.8, "infant_mortality_rate": 9.3, "lung_cancer": 27.7, "prostate_cancer_in_males": 25.6, "stroke_cerebrovascular_disease": 27.6, "gonorrhea_in_males": "114.3", "tuberculosis": 15.8, "below_poverty_level": 19.1, "crowded_housing": 8.4, "dependency": 36.3, "no_high_school_diploma": 41.9, "per_capita_income": 15411, "unemployment": 12.9}, {"community_area": 21, "community_area_name": "Avondale", "birth_rate": 18.5, "general_fertility_rate": 77.7, "low_birth_weight": 7.3, "prenatal_care_beginning_in_first_trimester": 74.4, "preterm_births": 7.5, "teen_birth_rate": 63.4, "assault_homicide": 4.7, "breast_cancer_in_females": 16.6, "cancer_all_sites": 133.9, "colorectal_cancer": 13.4, "diabetes_related": 52.7, "firearm_related": 4.6, "infant_mortality_rate": 5.7, "lung_cancer": 32.5, "prostate_cancer_in_males": 37.7, "stroke_cerebrovascular_disease": 36.0, "gonorrhea_in_males": "92.2", "tuberculosis": 10.1, "below_poverty_level": 14.6, "crowded_housing": 5.8, "dependency": 30.4, "no_high_school_diploma": 25.7, "per_capita_income": 20489, "unemployment": 9.3}, {"community_area": 22, "community_area_name": "Logan Square", "birth_rate": 18.2, "general_fertility_rate": 63.5, "low_birth_weight": 7.2, "prenatal_care_beginning_in_first_trimester": 78.2, "preterm_births": 9.4, "teen_birth_rate": 66.1, "assault_homicide": 8.6, "breast_cancer_in_females": 9.2, "cancer_all_sites": 148.7, "colorectal_cancer": 13.7, "diabetes_related": 75.7, "firearm_related": 10.2, "infant_mortality_rate": 4.3, "lung_cancer": 37.7, "prostate_cancer_in_males": 17.5, "stroke_cerebrovascular_disease": 31.9, "gonorrhea_in_males": "159.3", "tuberculosis": 8.4, "below_poverty_level": 17.2, "crowded_housing": 3.2, "dependency": 26.7, "no_high_school_diploma": 18.5, "per_capita_income": 29026, "unemployment": 7.5}, {"community_area": 23, "community_area_name": "Humboldt Park", "birth_rate": 19.2, "general_fertility_rate": 80.7, "low_birth_weight": 12.3, "prenatal_care_beginning_in_first_trimester": 70.9, "preterm_births": 11.7, "teen_birth_rate": 77.9, "assault_homicide": 29.0, "breast_cancer_in_females": 26.3, "cancer_all_sites": 211.1, "colorectal_cancer": 26.6, "diabetes_related": 94.1, "firearm_related": 22.7, "infant_mortality_rate": 9.8, "lung_cancer": 48.0, "prostate_cancer_in_males": 52.5, "stroke_cerebrovascular_disease": 53.5, "gonorrhea_in_males": "937.5", "tuberculosis": 9.7, "below_poverty_level": 32.6, "crowded_housing": 11.2, "dependency": 38.3, "no_high_school_diploma": 36.8, "per_capita_income": 13391, "unemployment": 12.3}, {"community_area": 24, "community_area_name": "West Town", "birth_rate": 18.8, "general_fertility_rate": 60.4, "low_birth_weight": 9.1, "prenatal_care_beginning_in_first_trimester": 75.5, "preterm_births": 10.8, "teen_birth_rate": 49.2, "assault_homicide": 8.5, "breast_cancer_in_females": 14.5, "cancer_all_sites": 139.6, "colorectal_cancer": 12.4, "diabetes_related": 107.0, "firearm_related": 6.6, "infant_mortality_rate": 5.1, "lung_cancer": 27.4, "prostate_cancer_in_males": 16.6, "stroke_cerebrovascular_disease": 33.3, "gonorrhea_in_males": "182.8", "tuberculosis": 3.6, "below_poverty_level": 15.7, "crowded_housing": 2.0, "dependency": 22.9, "no_high_school_diploma": 13.4, "per_capita_income": 39596, "unemployment": 6.0}, {"community_area": 25, "community_area_name": "Austin", "birth_rate": 18.0, "general_fertility_rate": 80.1, "low_birth_weight": 15.4, "prenatal_care_beginning_in_first_trimester": 72.9, "preterm_births": 14.3, "teen_birth_rate": 81.8, "assault_homicide": 34.4, "breast_cancer_in_females": 33.7, "cancer_all_sites": 261.9, "colorectal_cancer": 29.8, "diabetes_related": 113.9, "firearm_related": 28.5, "infant_mortality_rate": 13.3, "lung_cancer": 74.6, "prostate_cancer_in_males": 69.8, "stroke_cerebrovascular_disease": 56.8, "gonorrhea_in_males": "1678.9", "tuberculosis": 5.8, "below_poverty_level": 27.0, "crowded_housing": 5.7, "dependency": 39.0, "no_high_school_diploma": 25.0, "per_capita_income": 15920, "unemployment": 21.0}, {"community_area": 26, "community_area_name": "West Garfield Park", "birth_rate": 20.1, "general_fertility_rate": 88.4, "low_birth_weight": 17.0, "prenatal_care_beginning_in_first_trimester": 71.4, "preterm_births": 17.5, "teen_birth_rate": 114.9, "assault_homicide": 40.0, "breast_cancer_in_females": 54.7, "cancer_all_sites": 291.5, "colorectal_cancer": 31.4, "diabetes_related": 118.2, "firearm_related": 36.0, "infant_mortality_rate": 19.0, "lung_cancer": 65.3, "prostate_cancer_in_males": 75.0, "stroke_cerebrovascular_disease": 77.0, "gonorrhea_in_males": "2336.7", "tuberculosis": 6.5, "below_poverty_level": 40.3, "crowded_housing": 8.9, "dependency": 42.5, "no_high_school_diploma": 26.2, "per_capita_income": 10951, "unemployment": 25.2}, {"community_area": 27, "community_area_name": "East Garfield Park", "birth_rate": 19.4, "general_fertility_rate": 80.8, "low_birth_weight": 17.5, "prenatal_care_beginning_in_first_trimester": 73.2, "preterm_births": 16.3, "teen_birth_rate": 93.2, "assault_homicide": 38.4, "breast_cancer_in_females": 21.7, "cancer_all_sites": 236.8, "colorectal_cancer": 24.8, "diabetes_related": 97.3, "firearm_related": 37.1, "infant_mortality_rate": 11.0, "lung_cancer": 56.3, "prostate_cancer_in_males": 78.1, "stroke_cerebrovascular_disease": 47.5, "gonorrhea_in_males": "1730.2", "tuberculosis": 13.6, "below_poverty_level": 39.7, "crowded_housing": 7.5, "dependency": 43.2, "no_high_school_diploma": 26.2, "per_capita_income": 13596, "unemployment": 16.4}, {"community_area": 28, "community_area_name": "Near West Side", "birth_rate": 18.2, "general_fertility_rate": 55.6, "low_birth_weight": 9.0, "prenatal_care_beginning_in_first_trimester": 77.6, "preterm_births": 10.5, "teen_birth_rate": 36.7, "assault_homicide": 12.7, "breast_cancer_in_females": 33.4, "cancer_all_sites": 202.0, "colorectal_cancer": 19.2, "diabetes_related": 62.3, "firearm_related": 9.3, "infant_mortality_rate": 9.1, "lung_cancer": 66.2, "prostate_cancer_in_males": 33.6, "stroke_cerebrovascular_disease": 43.5, "gonorrhea_in_males": "466.5", "tuberculosis": 14.1, "below_poverty_level": 21.6, "crowded_housing": 3.8, "dependency": 22.9, "no_high_school_diploma": 11.2, "per_capita_income": 41488, "unemployment": 10.7}, {"community_area": 29, "community_area_name": "North Lawndale", "birth_rate": 20.6, "general_fertility_rate": 86.3, "low_birth_weight": 15.3, "prenatal_care_beginning_in_first_trimester": 75.8, "preterm_births": 15.2, "teen_birth_rate": 108.9, "assault_homicide": 46.7, "breast_cancer_in_females": 45.8, "cancer_all_sites": 261.5, "colorectal_cancer": 34.8, "diabetes_related": 99.2, "firearm_related": 37.6, "infant_mortality_rate": 14.1, "lung_cancer": 61.7, "prostate_cancer_in_males": 54.0, "stroke_cerebrovascular_disease": 70.2, "gonorrhea_in_males": "2236.3", "tuberculosis": 9.3, "below_poverty_level": 38.6, "crowded_housing": 7.2, "dependency": 40.9, "no_high_school_diploma": 30.4, "per_capita_income": 12548, "unemployment": 18.5}, {"community_area": 30, "community_area_name": "South Lawndale", "birth_rate": 19.5, "general_fertility_rate": 94.9, "low_birth_weight": 7.6, "prenatal_care_beginning_in_first_trimester": 85.1, "preterm_births": 9.6, "teen_birth_rate": 77.5, "assault_homicide": 11.1, "breast_cancer_in_females": 13.2, "cancer_all_sites": 127.4, "colorectal_cancer": 9.2, "diabetes_related": 65.0, "firearm_related": 8.6, "infant_mortality_rate": 5.9, "lung_cancer": 15.9, "prostate_cancer_in_males": 32.7, "stroke_cerebrovascular_disease": 37.3, "gonorrhea_in_males": "106.8", "tuberculosis": 7.9, "below_poverty_level": 28.1, "crowded_housing": 17.6, "dependency": 33.1, "no_high_school_diploma": 58.7, "per_capita_income": 10697, "unemployment": 11.5}, {"community_area": 31, "community_area_name": "Lower West Side", "birth_rate": 16.5, "general_fertility_rate": 68.2, "low_birth_weight": 4.5, "prenatal_care_beginning_in_first_trimester": 80.8, "preterm_births": 8.8, "teen_birth_rate": 49.0, "assault_homicide": 11.7, "breast_cancer_in_females": 27.2, "cancer_all_sites": 141.3, "colorectal_cancer": 11.9, "diabetes_related": 61.9, "firearm_related": 11.7, "infant_mortality_rate": 5.4, "lung_cancer": 27.8, "prostate_cancer_in_males": 14.3, "stroke_cerebrovascular_disease": 39.2, "gonorrhea_in_males": "78.7", "tuberculosis": 11.4, "below_poverty_level": 27.2, "crowded_housing": 10.4, "dependency": 35.2, "no_high_school_diploma": 44.3, "per_capita_income": 15467, "unemployment": 13.0}, {"community_area": 32, "community_area_name": "Loop", "birth_rate": 9.4, "general_fertility_rate": 27.7, "low_birth_weight": 5.3, "prenatal_care_beginning_in_first_trimester": 78.2, "preterm_births": 6.9, "teen_birth_rate": 1.3, "assault_homicide": 0.7, "breast_cancer_in_females": 20.2, "cancer_all_sites": 120.1, "colorectal_cancer": 10.8, "diabetes_related": 26.8, "firearm_related": 4.0, "infant_mortality_rate": 5.7, "lung_cancer": 29.2, "prostate_cancer_in_males": 17.2, "stroke_cerebrovascular_disease": 39.0, "gonorrhea_in_males": "200.5", "tuberculosis": 6.5, "below_poverty_level": 11.1, "crowded_housing": 2.0, "dependency": 15.5, "no_high_school_diploma": 3.4, "per_capita_income": 67699, "unemployment": 4.2}, {"community_area": 33, "community_area_name": "Near South Side", "birth_rate": 21.4, "general_fertility_rate": 72.9, "low_birth_weight": 8.8, "prenatal_care_beginning_in_first_trimester": 78.1, "preterm_births": 10.9, "teen_birth_rate": 50.9, "assault_homicide": 4.8, "breast_cancer_in_females": 31.9, "cancer_all_sites": 169.0, "colorectal_cancer": 19.2, "diabetes_related": 61.5, "firearm_related": 6.6, "infant_mortality_rate": 4.8, "lung_cancer": 46.2, "prostate_cancer_in_males": 51.4, "stroke_cerebrovascular_disease": 52.4, "gonorrhea_in_males": "318.7", "tuberculosis": 5.0, "below_poverty_level": 11.1, "crowded_housing": 1.4, "dependency": 21.0, "no_high_school_diploma": 7.1, "per_capita_income": 60593, "unemployment": 5.7}, {"community_area": 34, "community_area_name": "Armour Square", "birth_rate": 11.5, "general_fertility_rate": 57.1, "low_birth_weight": 12.4, "prenatal_care_beginning_in_first_trimester": 79.1, "preterm_births": 11.8, "teen_birth_rate": 16.2, "assault_homicide": 1.8, "breast_cancer_in_females": 10.7, "cancer_all_sites": 162.9, "colorectal_cancer": 23.1, "diabetes_related": 42.5, "firearm_related": 1.8, "infant_mortality_rate": 1.5, "lung_cancer": 54.3, "prostate_cancer_in_males": 17.2, "stroke_cerebrovascular_disease": 38.7, "gonorrhea_in_males": "218", "tuberculosis": 22.7, "below_poverty_level": 35.8, "crowded_housing": 5.9, "dependency": 37.9, "no_high_school_diploma": 37.5, "per_capita_income": 16942, "unemployment": 11.6}, {"community_area": 35, "community_area_name": "Douglas", "birth_rate": 10.3, "general_fertility_rate": 42.2, "low_birth_weight": 11.7, "prenatal_care_beginning_in_first_trimester": 76.0, "preterm_births": 10.2, "teen_birth_rate": 34.2, "assault_homicide": 13.6, "breast_cancer_in_females": 34.3, "cancer_all_sites": 269.9, "colorectal_cancer": 33.2, "diabetes_related": 119.1, "firearm_related": 9.1, "infant_mortality_rate": 13.4, "lung_cancer": 74.5, "prostate_cancer_in_males": 85.5, "stroke_cerebrovascular_disease": 62.1, "gonorrhea_in_males": "727.4", "tuberculosis": 4.2, "below_poverty_level": 26.1, "crowded_housing": 1.6, "dependency": 31.0, "no_high_school_diploma": 16.9, "per_capita_income": 23098, "unemployment": 16.7}, {"community_area": 36, "community_area_name": "Oakland", "birth_rate": 17.5, "general_fertility_rate": 63.9, "low_birth_weight": 13.5, "prenatal_care_beginning_in_first_trimester": 75.0, "preterm_births": 11.5, "teen_birth_rate": 54.5, "assault_homicide": 18.9, "breast_cancer_in_females": 20.6, "cancer_all_sites": 159.7, "colorectal_cancer": 14.5, "diabetes_related": 88.7, "firearm_related": 12.6, "infant_mortality_rate": 8.2, "lung_cancer": 54.5, "prostate_cancer_in_males": 54.2, "stroke_cerebrovascular_disease": 43.7, "gonorrhea_in_males": "1629.3", "tuberculosis": 6.7, "below_poverty_level": 38.1, "crowded_housing": 3.5, "dependency": 40.5, "no_high_school_diploma": 17.6, "per_capita_income": 19312, "unemployment": 26.6}, {"community_area": 37, "community_area_name": "Fuller Park", "birth_rate": 11.9, "general_fertility_rate": 60.4, "low_birth_weight": 17.1, "prenatal_care_beginning_in_first_trimester": 71.4, "preterm_births": 14.3, "teen_birth_rate": 69.2, "assault_homicide": 49.6, "breast_cancer_in_females": 8.5, "cancer_all_sites": 258.9, "colorectal_cancer": 21.1, "diabetes_related": 111.7, "firearm_related": 22.6, "infant_mortality_rate": 22.6, "lung_cancer": 89.6, "prostate_cancer_in_males": 70.5, "stroke_cerebrovascular_disease": 82.4, "gonorrhea_in_males": "1556.4", "tuberculosis": 0.0, "below_poverty_level": 55.5, "crowded_housing": 4.5, "dependency": 38.2, "no_high_school_diploma": 33.7, "per_capita_income": 9016, "unemployment": 40.0}, {"community_area": 38, "community_area_name": "Grand Boulevard", "birth_rate": 14.3, "general_fertility_rate": 58.2, "low_birth_weight": 12.7, "prenatal_care_beginning_in_first_trimester": 74.2, "preterm_births": 13.7, "teen_birth_rate": 54.8, "assault_homicide": 32.1, "breast_cancer_in_females": 22.6, "cancer_all_sites": 218.3, "colorectal_cancer": 27.7, "diabetes_related": 82.6, "firearm_related": 25.8, "infant_mortality_rate": 12.1, "lung_cancer": 63.8, "prostate_cancer_in_males": 39.0, "stroke_cerebrovascular_disease": 46.7, "gonorrhea_in_males": "1680", "tuberculosis": 13.2, "below_poverty_level": 28.3, "crowded_housing": 2.7, "dependency": 41.7, "no_high_school_diploma": 19.4, "per_capita_income": 22056, "unemployment": 20.6}, {"community_area": 39, "community_area_name": "Kenwood", "birth_rate": 12.2, "general_fertility_rate": 51.1, "low_birth_weight": 11.4, "prenatal_care_beginning_in_first_trimester": 77.6, "preterm_births": 11.9, "teen_birth_rate": 25.7, "assault_homicide": 15.2, "breast_cancer_in_females": 30.9, "cancer_all_sites": 196.4, "colorectal_cancer": 34.2, "diabetes_related": 45.5, "firearm_related": 17.4, "infant_mortality_rate": 8.9, "lung_cancer": 49.1, "prostate_cancer_in_males": 46.2, "stroke_cerebrovascular_disease": 31.5, "gonorrhea_in_males": "549.1", "tuberculosis": 0.0, "below_poverty_level": 23.1, "crowded_housing": 2.3, "dependency": 34.2, "no_high_school_diploma": 10.8, "per_capita_income": 37519, "unemployment": 11.0}, {"community_area": 40, "community_area_name": "Washington Park", "birth_rate": 19.3, "general_fertility_rate": 72.1, "low_birth_weight": 17.7, "prenatal_care_beginning_in_first_trimester": 74.9, "preterm_births": 16.9, "teen_birth_rate": 82.6, "assault_homicide": 44.6, "breast_cancer_in_females": 26.0, "cancer_all_sites": 258.0, "colorectal_cancer": 31.9, "diabetes_related": 88.2, "firearm_related": 39.5, "infant_mortality_rate": 19.3, "lung_cancer": 79.8, "prostate_cancer_in_males": 67.0, "stroke_cerebrovascular_disease": 43.3, "gonorrhea_in_males": "2058", "tuberculosis": 5.0, "below_poverty_level": 39.1, "crowded_housing": 4.9, "dependency": 40.9, "no_high_school_diploma": 28.3, "per_capita_income": 13087, "unemployment": 23.2}, {"community_area": 41, "community_area_name": "Hyde Park", "birth_rate": 9.7, "general_fertility_rate": 33.9, "low_birth_weight": 5.9, "prenatal_care_beginning_in_first_trimester": 80.3, "preterm_births": 5.5, "teen_birth_rate": 7.6, "assault_homicide": 5.8, "breast_cancer_in_females": 33.6, "cancer_all_sites": 144.0, "colorectal_cancer": 11.7, "diabetes_related": 34.0, "firearm_related": 5.0, "infant_mortality_rate": 10.4, "lung_cancer": 34.9, "prostate_cancer_in_males": 24.1, "stroke_cerebrovascular_disease": 26.0, "gonorrhea_in_males": "168.4", "tuberculosis": 5.3, "below_poverty_level": 18.2, "crowded_housing": 2.5, "dependency": 26.7, "no_high_school_diploma": 5.3, "per_capita_income": 39243, "unemployment": 6.9}, {"community_area": 42, "community_area_name": "Woodlawn", "birth_rate": 15.1, "general_fertility_rate": 60.1, "low_birth_weight": 17.4, "prenatal_care_beginning_in_first_trimester": 73.3, "preterm_births": 16.3, "teen_birth_rate": 51.1, "assault_homicide": 31.1, "breast_cancer_in_females": 32.9, "cancer_all_sites": 241.3, "colorectal_cancer": 23.9, "diabetes_related": 82.1, "firearm_related": 25.0, "infant_mortality_rate": 11.5, "lung_cancer": 69.8, "prostate_cancer_in_males": 58.0, "stroke_cerebrovascular_disease": 60.0, "gonorrhea_in_males": "1818.6", "tuberculosis": 17.4, "below_poverty_level": 28.3, "crowded_housing": 1.8, "dependency": 37.6, "no_high_school_diploma": 17.9, "per_capita_income": 18928, "unemployment": 17.3}, {"community_area": 43, "community_area_name": "South Shore", "birth_rate": 15.7, "general_fertility_rate": 67.9, "low_birth_weight": 13.8, "prenatal_care_beginning_in_first_trimester": 71.9, "preterm_births": 13.4, "teen_birth_rate": 65.9, "assault_homicide": 33.4, "breast_cancer_in_females": 32.4, "cancer_all_sites": 246.0, "colorectal_cancer": 25.1, "diabetes_related": 95.4, "firearm_related": 30.0, "infant_mortality_rate": 11.4, "lung_cancer": 70.0, "prostate_cancer_in_males": 54.8, "stroke_cerebrovascular_disease": 53.2, "gonorrhea_in_males": "1357.1", "tuberculosis": 11.7, "below_poverty_level": 31.5, "crowded_housing": 2.9, "dependency": 37.6, "no_high_school_diploma": 14.9, "per_capita_income": 18366, "unemployment": 17.7}, {"community_area": 44, "community_area_name": "Chatham", "birth_rate": 14.4, "general_fertility_rate": 71.3, "low_birth_weight": 15.4, "prenatal_care_beginning_in_first_trimester": 72.5, "preterm_births": 15.6, "teen_birth_rate": 68.2, "assault_homicide": 45.2, "breast_cancer_in_females": 41.9, "cancer_all_sites": 213.5, "colorectal_cancer": 24.1, "diabetes_related": 73.2, "firearm_related": 37.9, "infant_mortality_rate": 10.9, "lung_cancer": 51.5, "prostate_cancer_in_males": 47.9, "stroke_cerebrovascular_disease": 50.3, "gonorrhea_in_males": "1855.8", "tuberculosis": 8.2, "below_poverty_level": 25.3, "crowded_housing": 2.2, "dependency": 40.0, "no_high_school_diploma": 13.7, "per_capita_income": 20320, "unemployment": 19.0}, {"community_area": 45, "community_area_name": "Avalon Park", "birth_rate": 13.3, "general_fertility_rate": 69.6, "low_birth_weight": 19.7, "prenatal_care_beginning_in_first_trimester": 74.5, "preterm_births": 14.6, "teen_birth_rate": 63.9, "assault_homicide": 22.1, "breast_cancer_in_females": 33.8, "cancer_all_sites": 239.6, "colorectal_cancer": 27.7, "diabetes_related": 83.9, "firearm_related": 18.5, "infant_mortality_rate": 11.4, "lung_cancer": 57.9, "prostate_cancer_in_males": 45.1, "stroke_cerebrovascular_disease": 44.5, "gonorrhea_in_males": "2059.9", "tuberculosis": 1.9, "below_poverty_level": 16.7, "crowded_housing": 0.6, "dependency": 41.9, "no_high_school_diploma": 13.3, "per_capita_income": 23495, "unemployment": 16.6}, {"community_area": 46, "community_area_name": "South Chicago", "birth_rate": 18.1, "general_fertility_rate": 82.2, "low_birth_weight": 13.0, "prenatal_care_beginning_in_first_trimester": 75.3, "preterm_births": 15.1, "teen_birth_rate": 76.8, "assault_homicide": 36.9, "breast_cancer_in_females": 31.9, "cancer_all_sites": 227.3, "colorectal_cancer": 21.1, "diabetes_related": 86.9, "firearm_related": 33.7, "infant_mortality_rate": 17.7, "lung_cancer": 50.9, "prostate_cancer_in_males": 56.3, "stroke_cerebrovascular_disease": 50.6, "gonorrhea_in_males": "893.5", "tuberculosis": 6.9, "below_poverty_level": 28.0, "crowded_housing": 5.9, "dependency": 43.1, "no_high_school_diploma": 28.2, "per_capita_income": 15393, "unemployment": 17.7}, {"community_area": 47, "community_area_name": "Burnside", "birth_rate": 12.9, "general_fertility_rate": 64.0, "low_birth_weight": 7.9, "prenatal_care_beginning_in_first_trimester": 68.4, "preterm_births": 13.2, "teen_birth_rate": 68.7, "assault_homicide": 70.3, "breast_cancer_in_females": 7.6, "cancer_all_sites": 191.2, "colorectal_cancer": 32.8, "diabetes_related": 86.1, "firearm_related": 70.3, "infant_mortality_rate": 13.0, "lung_cancer": 69.5, "prostate_cancer_in_males": 44.0, "stroke_cerebrovascular_disease": 99.1, "gonorrhea_in_males": "1574.8", "tuberculosis": 6.8, "below_poverty_level": 22.5, "crowded_housing": 5.5, "dependency": 40.4, "no_high_school_diploma": 18.6, "per_capita_income": 13756, "unemployment": 23.4}, {"community_area": 48, "community_area_name": "Calumet Heights", "birth_rate": 10.0, "general_fertility_rate": 57.4, "low_birth_weight": 9.3, "prenatal_care_beginning_in_first_trimester": 75.0, "preterm_births": 16.4, "teen_birth_rate": 39.3, "assault_homicide": 19.5, "breast_cancer_in_females": 33.5, "cancer_all_sites": 216.6, "colorectal_cancer": 36.0, "diabetes_related": 81.4, "firearm_related": 24.5, "infant_mortality_rate": 13.9, "lung_cancer": 48.0, "prostate_cancer_in_males": 40.4, "stroke_cerebrovascular_disease": 39.2, "gonorrhea_in_males": "1106.5", "tuberculosis": 2.8, "below_poverty_level": 12.0, "crowded_housing": 1.8, "dependency": 42.3, "no_high_school_diploma": 11.2, "per_capita_income": 28977, "unemployment": 17.2}, {"community_area": 49, "community_area_name": "Roseland", "birth_rate": 14.3, "general_fertility_rate": 68.8, "low_birth_weight": 12.2, "prenatal_care_beginning_in_first_trimester": 69.0, "preterm_births": 12.8, "teen_birth_rate": 79.7, "assault_homicide": 40.9, "breast_cancer_in_females": 43.5, "cancer_all_sites": 258.5, "colorectal_cancer": 32.0, "diabetes_related": 95.5, "firearm_related": 37.7, "infant_mortality_rate": 9.6, "lung_cancer": 70.3, "prostate_cancer_in_males": 57.6, "stroke_cerebrovascular_disease": 55.6, "gonorrhea_in_males": "1725.3", "tuberculosis": 7.9, "below_poverty_level": 19.5, "crowded_housing": 3.1, "dependency": 40.9, "no_high_school_diploma": 17.4, "per_capita_income": 17974, "unemployment": 17.8}, {"community_area": 50, "community_area_name": "Pullman", "birth_rate": 14.3, "general_fertility_rate": 66.5, "low_birth_weight": 11.2, "prenatal_care_beginning_in_first_trimester": 81.3, "preterm_births": 12.1, "teen_birth_rate": 67.9, "assault_homicide": 32.2, "breast_cancer_in_females": 34.6, "cancer_all_sites": 262.5, "colorectal_cancer": 28.1, "diabetes_related": 78.5, "firearm_related": 32.1, "infant_mortality_rate": 13.6, "lung_cancer": 83.8, "prostate_cancer_in_males": 92.9, "stroke_cerebrovascular_disease": 65.3, "gonorrhea_in_males": "1480.4", "tuberculosis": 2.7, "below_poverty_level": 20.1, "crowded_housing": 1.4, "dependency": 42.0, "no_high_school_diploma": 15.6, "per_capita_income": 19007, "unemployment": 21.0}, {"community_area": 51, "community_area_name": "South Deering", "birth_rate": 15.8, "general_fertility_rate": 76.7, "low_birth_weight": 14.9, "prenatal_care_beginning_in_first_trimester": 76.9, "preterm_births": 15.7, "teen_birth_rate": 65.3, "assault_homicide": 41.3, "breast_cancer_in_females": 25.3, "cancer_all_sites": 224.0, "colorectal_cancer": 32.5, "diabetes_related": 80.6, "firearm_related": 35.1, "infant_mortality_rate": 11.8, "lung_cancer": 59.2, "prostate_cancer_in_males": 48.7, "stroke_cerebrovascular_disease": 54.9, "gonorrhea_in_males": "1018.2", "tuberculosis": 2.6, "below_poverty_level": 24.5, "crowded_housing": 6.0, "dependency": 41.4, "no_high_school_diploma": 21.9, "per_capita_income": 15506, "unemployment": 11.8}, {"community_area": 52, "community_area_name": "East Side", "birth_rate": 17.7, "general_fertility_rate": 85.8, "low_birth_weight": 6.4, "prenatal_care_beginning_in_first_trimester": 73.3, "preterm_births": 11.0, "teen_birth_rate": 53.0, "assault_homicide": 10.7, "breast_cancer_in_females": 15.3, "cancer_all_sites": 182.9, "colorectal_cancer": 12.9, "diabetes_related": 73.9, "firearm_related": 10.1, "infant_mortality_rate": 3.7, "lung_cancer": 45.9, "prostate_cancer_in_males": 26.2, "stroke_cerebrovascular_disease": 33.3, "gonorrhea_in_males": "98.6", "tuberculosis": 5.2, "below_poverty_level": 18.7, "crowded_housing": 8.3, "dependency": 42.5, "no_high_school_diploma": 35.5, "per_capita_income": 15347, "unemployment": 14.5}, {"community_area": 53, "community_area_name": "West Pullman", "birth_rate": 15.3, "general_fertility_rate": 71.2, "low_birth_weight": 14.9, "prenatal_care_beginning_in_first_trimester": 71.3, "preterm_births": 14.4, "teen_birth_rate": 67.8, "assault_homicide": 43.9, "breast_cancer_in_females": 20.3, "cancer_all_sites": 263.6, "colorectal_cancer": 32.6, "diabetes_related": 83.4, "firearm_related": 46.5, "infant_mortality_rate": 11.9, "lung_cancer": 78.6, "prostate_cancer_in_males": 62.9, "stroke_cerebrovascular_disease": 63.9, "gonorrhea_in_males": "1673.4", "tuberculosis": 9.2, "below_poverty_level": 24.3, "crowded_housing": 3.3, "dependency": 42.2, "no_high_school_diploma": 22.6, "per_capita_income": 16228, "unemployment": 17.0}, {"community_area": 54, "community_area_name": "Riverdale", "birth_rate": 12.5, "general_fertility_rate": 46.1, "low_birth_weight": 15.3, "prenatal_care_beginning_in_first_trimester": 74.1, "preterm_births": 16.5, "teen_birth_rate": 64.5, "assault_homicide": 33.0, "breast_cancer_in_females": 25.0, "cancer_all_sites": 258.3, "colorectal_cancer": 39.4, "diabetes_related": 115.9, "firearm_related": 32.8, "infant_mortality_rate": 8.7, "lung_cancer": 86.1, "prostate_cancer_in_males": 42.5, "stroke_cerebrovascular_disease": 80.6, "gonorrhea_in_males": "1397.9", "tuberculosis": 5.8, "below_poverty_level": 61.4, "crowded_housing": 5.1, "dependency": 50.2, "no_high_school_diploma": 24.6, "per_capita_income": 8535, "unemployment": 26.4}, {"community_area": 55, "community_area_name": "Hegewisch", "birth_rate": 13.7, "general_fertility_rate": 73.2, "low_birth_weight": 7.7, "prenatal_care_beginning_in_first_trimester": 66.9, "preterm_births": 13.1, "teen_birth_rate": 47.1, "assault_homicide": 6.9, "breast_cancer_in_females": 20.0, "cancer_all_sites": 210.0, "colorectal_cancer": 16.7, "diabetes_related": 80.0, "firearm_related": 13.4, "infant_mortality_rate": 8.4, "lung_cancer": 57.9, "prostate_cancer_in_males": 28.6, "stroke_cerebrovascular_disease": 47.1, "gonorrhea_in_males": ".", "tuberculosis": 2.1, "below_poverty_level": 12.1, "crowded_housing": 4.4, "dependency": 41.6, "no_high_school_diploma": 17.9, "per_capita_income": 22561, "unemployment": 9.6}, {"community_area": 56, "community_area_name": "Garfield Ridge", "birth_rate": 13.4, "general_fertility_rate": 69.0, "low_birth_weight": 8.0, "prenatal_care_beginning_in_first_trimester": 81.7, "preterm_births": 9.5, "teen_birth_rate": 33.7, "assault_homicide": 9.9, "breast_cancer_in_females": 31.0, "cancer_all_sites": 231.9, "colorectal_cancer": 24.6, "diabetes_related": 80.3, "firearm_related": 9.2, "infant_mortality_rate": 4.5, "lung_cancer": 59.2, "prostate_cancer_in_males": 30.9, "stroke_cerebrovascular_disease": 42.2, "gonorrhea_in_males": "101.8", "tuberculosis": 3.5, "below_poverty_level": 9.0, "crowded_housing": 2.6, "dependency": 39.5, "no_high_school_diploma": 19.4, "per_capita_income": 24684, "unemployment": 8.1}, {"community_area": 57, "community_area_name": "Archer Heights", "birth_rate": 18.1, "general_fertility_rate": 80.0, "low_birth_weight": 8.7, "prenatal_care_beginning_in_first_trimester": 74.3, "preterm_births": 10.0, "teen_birth_rate": 50.3, "assault_homicide": 16.6, "breast_cancer_in_females": 25.2, "cancer_all_sites": 166.3, "colorectal_cancer": 9.0, "diabetes_related": 67.7, "firearm_related": 15.4, "infant_mortality_rate": 5.2, "lung_cancer": 49.6, "prostate_cancer_in_males": 20.5, "stroke_cerebrovascular_disease": 41.8, "gonorrhea_in_males": ".", "tuberculosis": 1.5, "below_poverty_level": 13.0, "crowded_housing": 8.5, "dependency": 40.5, "no_high_school_diploma": 36.4, "per_capita_income": 16145, "unemployment": 14.2}, {"community_area": 58, "community_area_name": "Brighton Park", "birth_rate": 20.6, "general_fertility_rate": 90.6, "low_birth_weight": 7.2, "prenatal_care_beginning_in_first_trimester": 82.7, "preterm_births": 8.3, "teen_birth_rate": 58.1, "assault_homicide": 11.1, "breast_cancer_in_females": 26.8, "cancer_all_sites": 139.1, "colorectal_cancer": 12.8, "diabetes_related": 69.7, "firearm_related": 10.6, "infant_mortality_rate": 5.9, "lung_cancer": 27.7, "prostate_cancer_in_males": 15.1, "stroke_cerebrovascular_disease": 38.3, "gonorrhea_in_males": "52.7", "tuberculosis": 11.5, "below_poverty_level": 23.0, "crowded_housing": 13.2, "dependency": 39.8, "no_high_school_diploma": 48.2, "per_capita_income": 13138, "unemployment": 11.2}, {"community_area": 59, "community_area_name": "McKinley Park", "birth_rate": 16.7, "general_fertility_rate": 73.9, "low_birth_weight": 7.3, "prenatal_care_beginning_in_first_trimester": 80.5, "preterm_births": 9.9, "teen_birth_rate": 47.9, "assault_homicide": 5.1, "breast_cancer_in_females": 32.7, "cancer_all_sites": 148.4, "colorectal_cancer": 14.2, "diabetes_related": 61.4, "firearm_related": 6.5, "infant_mortality_rate": 7.3, "lung_cancer": 38.3, "prostate_cancer_in_males": 0.0, "stroke_cerebrovascular_disease": 51.7, "gonorrhea_in_males": ".", "tuberculosis": 11.5, "below_poverty_level": 16.1, "crowded_housing": 6.9, "dependency": 33.7, "no_high_school_diploma": 31.8, "per_capita_income": 17577, "unemployment": 11.9}, {"community_area": 60, "community_area_name": "Bridgeport", "birth_rate": 11.7, "general_fertility_rate": 51.7, "low_birth_weight": 8.0, "prenatal_care_beginning_in_first_trimester": 80.3, "preterm_births": 11.4, "teen_birth_rate": 28.4, "assault_homicide": 4.9, "breast_cancer_in_females": 16.5, "cancer_all_sites": 168.9, "colorectal_cancer": 16.1, "diabetes_related": 49.8, "firearm_related": 4.5, "infant_mortality_rate": 8.0, "lung_cancer": 54.4, "prostate_cancer_in_males": 15.8, "stroke_cerebrovascular_disease": 40.1, "gonorrhea_in_males": "65", "tuberculosis": 9.9, "below_poverty_level": 17.3, "crowded_housing": 4.8, "dependency": 32.3, "no_high_school_diploma": 25.6, "per_capita_income": 24969, "unemployment": 11.2}, {"community_area": 61, "community_area_name": "New City", "birth_rate": 21.4, "general_fertility_rate": 93.4, "low_birth_weight": 11.8, "prenatal_care_beginning_in_first_trimester": 75.9, "preterm_births": 12.2, "teen_birth_rate": 94.3, "assault_homicide": 26.6, "breast_cancer_in_females": 23.6, "cancer_all_sites": 235.2, "colorectal_cancer": 29.2, "diabetes_related": 83.7, "firearm_related": 24.6, "infant_mortality_rate": 7.9, "lung_cancer": 69.4, "prostate_cancer_in_males": 40.7, "stroke_cerebrovascular_disease": 50.2, "gonorrhea_in_males": "579.7", "tuberculosis": 9.3, "below_poverty_level": 30.6, "crowded_housing": 12.2, "dependency": 42.0, "no_high_school_diploma": 42.4, "per_capita_income": 12524, "unemployment": 17.4}, {"community_area": 62, "community_area_name": "West Elsdon", "birth_rate": 20.8, "general_fertility_rate": 92.3, "low_birth_weight": 4.6, "prenatal_care_beginning_in_first_trimester": 81.2, "preterm_births": 7.5, "teen_birth_rate": 45.5, "assault_homicide": 5.9, "breast_cancer_in_females": 12.1, "cancer_all_sites": 180.6, "colorectal_cancer": 11.5, "diabetes_related": 68.5, "firearm_related": 7.7, "infant_mortality_rate": 8.1, "lung_cancer": 57.8, "prostate_cancer_in_males": 44.7, "stroke_cerebrovascular_disease": 42.6, "gonorrhea_in_males": "115.9", "tuberculosis": 4.5, "below_poverty_level": 9.8, "crowded_housing": 8.7, "dependency": 38.7, "no_high_school_diploma": 39.6, "per_capita_income": 16938, "unemployment": 13.5}, {"community_area": 63, "community_area_name": "Gage Park", "birth_rate": 21.8, "general_fertility_rate": 93.2, "low_birth_weight": 6.8, "prenatal_care_beginning_in_first_trimester": 80.4, "preterm_births": 6.8, "teen_birth_rate": 61.4, "assault_homicide": 10.8, "breast_cancer_in_females": 23.4, "cancer_all_sites": 171.0, "colorectal_cancer": 13.6, "diabetes_related": 65.0, "firearm_related": 11.1, "infant_mortality_rate": 5.4, "lung_cancer": 34.1, "prostate_cancer_in_males": 41.1, "stroke_cerebrovascular_disease": 51.2, "gonorrhea_in_males": "149.2", "tuberculosis": 7.0, "below_poverty_level": 20.8, "crowded_housing": 17.4, "dependency": 40.4, "no_high_school_diploma": 54.1, "per_capita_income": 12014, "unemployment": 14.0}, {"community_area": 64, "community_area_name": "Clearing", "birth_rate": 14.6, "general_fertility_rate": 68.3, "low_birth_weight": 7.4, "prenatal_care_beginning_in_first_trimester": 85.8, "preterm_births": 8.0, "teen_birth_rate": 38.7, "assault_homicide": 9.4, "breast_cancer_in_females": 23.6, "cancer_all_sites": 189.4, "colorectal_cancer": 22.5, "diabetes_related": 72.0, "firearm_related": 12.7, "infant_mortality_rate": 6.7, "lung_cancer": 58.6, "prostate_cancer_in_males": 18.7, "stroke_cerebrovascular_disease": 53.5, "gonorrhea_in_males": ".", "tuberculosis": 0.9, "below_poverty_level": 5.9, "crowded_housing": 3.4, "dependency": 36.4, "no_high_school_diploma": 18.5, "per_capita_income": 23920, "unemployment": 9.6}, {"community_area": 65, "community_area_name": "West Lawn", "birth_rate": 18.8, "general_fertility_rate": 83.3, "low_birth_weight": 7.6, "prenatal_care_beginning_in_first_trimester": 83.5, "preterm_births": 8.3, "teen_birth_rate": 44.6, "assault_homicide": 10.7, "breast_cancer_in_females": 16.9, "cancer_all_sites": 145.1, "colorectal_cancer": 15.7, "diabetes_related": 61.5, "firearm_related": 8.8, "infant_mortality_rate": 8.4, "lung_cancer": 36.7, "prostate_cancer_in_males": 19.7, "stroke_cerebrovascular_disease": 43.1, "gonorrhea_in_males": "87.2", "tuberculosis": 4.3, "below_poverty_level": 15.3, "crowded_housing": 6.8, "dependency": 41.9, "no_high_school_diploma": 33.4, "per_capita_income": 15898, "unemployment": 7.8}, {"community_area": 66, "community_area_name": "Chicago Lawn", "birth_rate": 20.1, "general_fertility_rate": 85.3, "low_birth_weight": 9.4, "prenatal_care_beginning_in_first_trimester": 78.4, "preterm_births": 10.8, "teen_birth_rate": 67.4, "assault_homicide": 22.4, "breast_cancer_in_females": 25.0, "cancer_all_sites": 179.3, "colorectal_cancer": 26.1, "diabetes_related": 73.0, "firearm_related": 19.4, "infant_mortality_rate": 11.1, "lung_cancer": 42.9, "prostate_cancer_in_males": 22.1, "stroke_cerebrovascular_disease": 61.7, "gonorrhea_in_males": "1159.9", "tuberculosis": 5.3, "below_poverty_level": 22.2, "crowded_housing": 6.5, "dependency": 40.0, "no_high_school_diploma": 31.6, "per_capita_income": 14405, "unemployment": 11.9}, {"community_area": 67, "community_area_name": "West Englewood", "birth_rate": 20.3, "general_fertility_rate": 93.3, "low_birth_weight": 16.1, "prenatal_care_beginning_in_first_trimester": 63.6, "preterm_births": 13.8, "teen_birth_rate": 116.9, "assault_homicide": 47.2, "breast_cancer_in_females": 39.2, "cancer_all_sites": 247.6, "colorectal_cancer": 24.4, "diabetes_related": 88.2, "firearm_related": 39.3, "infant_mortality_rate": 13.3, "lung_cancer": 66.3, "prostate_cancer_in_males": 75.0, "stroke_cerebrovascular_disease": 64.6, "gonorrhea_in_males": "2545.7", "tuberculosis": 10.9, "below_poverty_level": 32.3, "crowded_housing": 6.9, "dependency": 40.9, "no_high_school_diploma": 30.3, "per_capita_income": 10559, "unemployment": 34.7}, {"community_area": 68, "community_area_name": "Englewood", "birth_rate": 20.0, "general_fertility_rate": 85.8, "low_birth_weight": 14.5, "prenatal_care_beginning_in_first_trimester": 69.7, "preterm_births": 13.1, "teen_birth_rate": 105.3, "assault_homicide": 45.1, "breast_cancer_in_females": 32.9, "cancer_all_sites": 252.2, "colorectal_cancer": 30.2, "diabetes_related": 101.8, "firearm_related": 44.9, "infant_mortality_rate": 13.4, "lung_cancer": 76.8, "prostate_cancer_in_males": 57.7, "stroke_cerebrovascular_disease": 71.6, "gonorrhea_in_males": "2323.5", "tuberculosis": 11.3, "below_poverty_level": 42.2, "crowded_housing": 4.8, "dependency": 43.4, "no_high_school_diploma": 29.4, "per_capita_income": 11993, "unemployment": 21.3}, {"community_area": 69, "community_area_name": "Greater Grand Crossing", "birth_rate": 18.2, "general_fertility_rate": 82.4, "low_birth_weight": 12.9, "prenatal_care_beginning_in_first_trimester": 72.3, "preterm_births": 15.1, "teen_birth_rate": 84.3, "assault_homicide": 49.7, "breast_cancer_in_females": 29.1, "cancer_all_sites": 274.4, "colorectal_cancer": 31.5, "diabetes_related": 92.3, "firearm_related": 44.6, "infant_mortality_rate": 14.2, "lung_cancer": 77.5, "prostate_cancer_in_males": 70.3, "stroke_cerebrovascular_disease": 58.2, "gonorrhea_in_males": "2034.2", "tuberculosis": 4.8, "below_poverty_level": 25.6, "crowded_housing": 4.2, "dependency": 42.9, "no_high_school_diploma": 17.9, "per_capita_income": 17213, "unemployment": 18.9}, {"community_area": 70, "community_area_name": "Ashburn", "birth_rate": 14.7, "general_fertility_rate": 69.0, "low_birth_weight": 9.0, "prenatal_care_beginning_in_first_trimester": 82.4, "preterm_births": 11.3, "teen_birth_rate": 38.3, "assault_homicide": 12.4, "breast_cancer_in_females": 37.2, "cancer_all_sites": 229.3, "colorectal_cancer": 22.8, "diabetes_related": 80.1, "firearm_related": 11.6, "infant_mortality_rate": 10.2, "lung_cancer": 62.8, "prostate_cancer_in_males": 44.5, "stroke_cerebrovascular_disease": 47.4, "gonorrhea_in_males": "602.9", "tuberculosis": 4.4, "below_poverty_level": 9.5, "crowded_housing": 4.2, "dependency": 36.7, "no_high_school_diploma": 18.3, "per_capita_income": 22078, "unemployment": 8.8}, {"community_area": 71, "community_area_name": "Auburn Gresham", "birth_rate": 15.1, "general_fertility_rate": 70.5, "low_birth_weight": 11.6, "prenatal_care_beginning_in_first_trimester": 71.8, "preterm_births": 13.9, "teen_birth_rate": 83.1, "assault_homicide": 37.6, "breast_cancer_in_females": 41.9, "cancer_all_sites": 243.0, "colorectal_cancer": 24.5, "diabetes_related": 83.6, "firearm_related": 32.6, "infant_mortality_rate": 15.6, "lung_cancer": 65.1, "prostate_cancer_in_males": 43.5, "stroke_cerebrovascular_disease": 63.7, "gonorrhea_in_males": "1986.7", "tuberculosis": 7.3, "below_poverty_level": 24.5, "crowded_housing": 4.1, "dependency": 42.1, "no_high_school_diploma": 19.5, "per_capita_income": 16022, "unemployment": 24.2}, {"community_area": 72, "community_area_name": "Beverly", "birth_rate": 11.0, "general_fertility_rate": 60.7, "low_birth_weight": 4.9, "prenatal_care_beginning_in_first_trimester": 84.8, "preterm_births": 9.9, "teen_birth_rate": 11.9, "assault_homicide": 3.5, "breast_cancer_in_females": 42.0, "cancer_all_sites": 197.6, "colorectal_cancer": 24.8, "diabetes_related": 59.6, "firearm_related": 3.5, "infant_mortality_rate": 10.0, "lung_cancer": 47.9, "prostate_cancer_in_males": 44.7, "stroke_cerebrovascular_disease": 57.2, "gonorrhea_in_males": "469.5", "tuberculosis": 0.0, "below_poverty_level": 5.2, "crowded_housing": 0.7, "dependency": 38.7, "no_high_school_diploma": 5.1, "per_capita_income": 40107, "unemployment": 7.8}, {"community_area": 73, "community_area_name": "Washington Heights", "birth_rate": 12.0, "general_fertility_rate": 61.0, "low_birth_weight": 19.6, "prenatal_care_beginning_in_first_trimester": 75.4, "preterm_births": 16.2, "teen_birth_rate": 65.0, "assault_homicide": 38.0, "breast_cancer_in_females": 47.9, "cancer_all_sites": 260.6, "colorectal_cancer": 29.7, "diabetes_related": 79.5, "firearm_related": 35.6, "infant_mortality_rate": 11.2, "lung_cancer": 70.0, "prostate_cancer_in_males": 56.2, "stroke_cerebrovascular_disease": 57.6, "gonorrhea_in_males": "1274.2", "tuberculosis": 3.0, "below_poverty_level": 15.7, "crowded_housing": 1.1, "dependency": 42.4, "no_high_school_diploma": 15.6, "per_capita_income": 19709, "unemployment": 18.3}, {"community_area": 74, "community_area_name": "Mount Greenwood", "birth_rate": 12.5, "general_fertility_rate": 59.0, "low_birth_weight": 8.4, "prenatal_care_beginning_in_first_trimester": 94.5, "preterm_births": 15.1, "teen_birth_rate": 7.7, "assault_homicide": 2.2, "breast_cancer_in_females": 34.6, "cancer_all_sites": 201.1, "colorectal_cancer": 24.8, "diabetes_related": 66.5, "firearm_related": 7.4, "infant_mortality_rate": 3.3, "lung_cancer": 55.0, "prostate_cancer_in_males": 16.9, "stroke_cerebrovascular_disease": 26.7, "gonorrhea_in_males": ".", "tuberculosis": 0.0, "below_poverty_level": 3.1, "crowded_housing": 1.1, "dependency": 37.0, "no_high_school_diploma": 4.5, "per_capita_income": 34221, "unemployment": 6.9}, {"community_area": 75, "community_area_name": "Morgan Park", "birth_rate": 13.2, "general_fertility_rate": 67.5, "low_birth_weight": 10.6, "prenatal_care_beginning_in_first_trimester": 74.5, "preterm_births": 12.3, "teen_birth_rate": 46.7, "assault_homicide": 19.9, "breast_cancer_in_females": 32.4, "cancer_all_sites": 218.2, "colorectal_cancer": 27.1, "diabetes_related": 75.4, "firearm_related": 15.8, "infant_mortality_rate": 13.1, "lung_cancer": 50.0, "prostate_cancer_in_males": 39.8, "stroke_cerebrovascular_disease": 47.9, "gonorrhea_in_males": "741.1", "tuberculosis": 2.6, "below_poverty_level": 13.7, "crowded_housing": 0.8, "dependency": 39.4, "no_high_school_diploma": 10.9, "per_capita_income": 26185, "unemployment": 14.9}, {"community_area": 76, "community_area_name": "O'Hare", "birth_rate": 15.8, "general_fertility_rate": 70.0, "low_birth_weight": 3.5, "prenatal_care_beginning_in_first_trimester": 82.0, "preterm_births": 5.0, "teen_birth_rate": 15.9, "assault_homicide": 5.6, "breast_cancer_in_females": 20.5, "cancer_all_sites": 138.5, "colorectal_cancer": 8.7, "diabetes_related": 47.3, "firearm_related": 11.8, "infant_mortality_rate": 2.0, "lung_cancer": 37.4, "prostate_cancer_in_males": 2.8, "stroke_cerebrovascular_disease": 40.4, "gonorrhea_in_males": ".", "tuberculosis": 6.3, "below_poverty_level": 9.5, "crowded_housing": 1.9, "dependency": 26.5, "no_high_school_diploma": 11.0, "per_capita_income": 29402, "unemployment": 4.7}, {"community_area": 77, "community_area_name": "Edgewater", "birth_rate": 12.1, "general_fertility_rate": 48.1, "low_birth_weight": 7.5, "prenatal_care_beginning_in_first_trimester": 76.1, "preterm_births": 7.4, "teen_birth_rate": 15.1, "assault_homicide": 5.8, "breast_cancer_in_females": 18.5, "cancer_all_sites": 162.0, "colorectal_cancer": 16.2, "diabetes_related": 48.8, "firearm_related": 3.9, "infant_mortality_rate": 6.9, "lung_cancer": 40.1, "prostate_cancer_in_males": 23.7, "stroke_cerebrovascular_disease": 31.5, "gonorrhea_in_males": "427.5", "tuberculosis": 10.5, "below_poverty_level": 16.6, "crowded_housing": 3.9, "dependency": 23.4, "no_high_school_diploma": 9.0, "per_capita_income": 33364, "unemployment": 9.0}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p><img src="1-1_cancer-poverty.png" class="img-fluid" alt="1-1_cancer-poverty"> <img src="1-2_cancer-income.png" class="img-fluid" alt="1-2_cancer-income"> <img src="1-3._cancer-unemployment.png" class="img-fluid" alt="1-3._cancer-unemployment"> <img src="2-1_diabetes-poverty.png" class="img-fluid" alt="2-1_diabetes-poverty"> <img src="2-2_diabetes-income.png" class="img-fluid" alt="2-2_diabetes-income"> <img src="2-3_diabetes-unemployment.png" class="img-fluid" alt="2-3_diabetes-unemployment"> <img src="1-1_cancer-poverty.png" class="img-fluid" alt="1-1_cancer-poverty"> <img src="1-2_cancer-income.png" class="img-fluid" alt="1-2_cancer-income"> <img src="1-3._cancer-unemployment.png" class="img-fluid" alt="1-3._cancer-unemployment"></p>
</section>
<section id="spatial-analysis" class="level1">
<h1>6. Spatial Analysis</h1>
<section id="creating-1-mile-buffer-map-around-community-health-center" class="level3">
<h3 class="anchored" data-anchor-id="creating-1-mile-buffer-map-around-community-health-center">Creating 1 mile buffer map around community health center</h3>
<div id="c42c5f24" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading the file </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>filepath <span class="op">=</span> <span class="st">"/Users/tsaili-ting/Uchicago/Year2/Y2Fall/Python2/python_final/Map_-_Public_Health_Services_-_Chicago_Primary_Care_Community_Health_Centers.csv"</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="bu">map</span> <span class="op">=</span> gpd.read_file(filepath)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="37ea481a" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#clean the dataset and make it a geo dataframe</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(<span class="bu">map</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># extract Coordinates</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'address'</span>, <span class="st">'coordinates'</span>]] <span class="op">=</span> df[<span class="st">'Address'</span>].<span class="bu">str</span>.extract(<span class="vs">r'^(.*)\n\((.*)\)$'</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'latitude'</span>, <span class="st">'longitude'</span>]] <span class="op">=</span> df[<span class="st">'coordinates'</span>].<span class="bu">str</span>.split(<span class="st">', '</span>, expand<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># convert Latitude and Longitude to Numeric</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'latitude'</span>] <span class="op">=</span> pd.to_numeric(df[<span class="st">'latitude'</span>])</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'longitude'</span>] <span class="op">=</span> pd.to_numeric(df[<span class="st">'longitude'</span>])</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co"># create Geometry Column</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'geometry'</span>] <span class="op">=</span> df.<span class="bu">apply</span>(<span class="kw">lambda</span> row: Point(row[<span class="st">'longitude'</span>], row[<span class="st">'latitude'</span>]), axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># convert to GeoDataFrame</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> gpd.GeoDataFrame(df, geometry<span class="op">=</span><span class="st">'geometry'</span>)</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="co"># crop unnecessary columns if desired</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> gdf.drop(columns<span class="op">=</span>[<span class="st">'Address'</span>, <span class="st">'coordinates'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="99d2c3ec" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter GeoDataFrame to keep points within Chicago's bounding box</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> gdf[</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    (gdf[<span class="st">'latitude'</span>] <span class="op">&gt;=</span> <span class="fl">41.64</span>) <span class="op">&amp;</span> (gdf[<span class="st">'latitude'</span>] <span class="op">&lt;=</span> <span class="fl">42.02</span>) <span class="op">&amp;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    (gdf[<span class="st">'longitude'</span>] <span class="op">&gt;=</span> <span class="op">-</span><span class="fl">87.94</span>) <span class="op">&amp;</span> (gdf[<span class="st">'longitude'</span>] <span class="op">&lt;=</span> <span class="op">-</span><span class="fl">87.52</span>)]</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># make a geojson file for shiny </span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>point.to_file(<span class="st">"point.geojson"</span>, driver<span class="op">=</span><span class="st">"GeoJSON"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/tsaili-ting/local_GIS/lib/python3.12/site-packages/pyogrio/geopandas.py:662: UserWarning: 'crs' was not provided.  The output dataset will not have projection information defined and may not be usable in other systems.
  write(</code></pre>
</div>
</div>
<div id="cb0b7b55" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot only the points in Chicago</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>point.plot(marker<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'green'</span>, markersize<span class="op">=</span><span class="dv">5</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Map of Locations in Chicago"</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Longitude"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Latitude"</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-22-output-1.png" width="618" height="819" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="d99d273d" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># match the crs code for creating buffer</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> point.set_crs(epsg<span class="op">=</span><span class="dv">4326</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> point.to_crs(epsg<span class="op">=</span><span class="dv">32616</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>chi_shp <span class="op">=</span> chi_shp.to_crs(epsg<span class="op">=</span><span class="dv">32616</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="base-map-with-the-points" class="level3">
<h3 class="anchored" data-anchor-id="base-map-with-the-points">Base Map with the points</h3>
<div id="f6e49a3f" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a base map with the shapefile</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> chi_shp.plot(color<span class="op">=</span><span class="st">'lightgrey'</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>), alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># overlay the points on the map</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>point.plot(ax<span class="op">=</span>ax, marker<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'red'</span>, markersize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Chicago Map with Points"</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Longitude"</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Latitude"</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-24-output-1.png" width="678" height="819" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="highlight-the-area-with-the-health-centers" class="level3">
<h3 class="anchored" data-anchor-id="highlight-the-area-with-the-health-centers">Highlight the area with the health centers</h3>
<div id="c4c025b8" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># highlight the area that has Chicago Primary Care Community Health Centers</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># spatial join</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>highlighted_areas <span class="op">=</span> chi_shp.sjoin(point, how<span class="op">=</span><span class="st">'inner'</span>, predicate<span class="op">=</span><span class="st">'intersects'</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># keep only unique community areas</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>highlighted_areas <span class="op">=</span> highlighted_areas.drop_duplicates(subset<span class="op">=</span>chi_shp.geometry.name)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># add a highlight flag</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>chi_shp[<span class="st">"has_points"</span>] <span class="op">=</span> chi_shp.geometry.<span class="bu">apply</span>(<span class="kw">lambda</span> geom: geom <span class="kw">in</span> highlighted_areas.geometry.values)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># plot shapefile, highlighting areas with points</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>custom_cmap <span class="op">=</span> ListedColormap([<span class="st">"yellow"</span>, <span class="st">"lightgrey"</span>])</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> chi_shp.plot(</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    column<span class="op">=</span><span class="st">"has_points"</span>, </span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span>custom_cmap,  <span class="co"># Colors: cool areas without points, warm areas with points</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    edgecolor<span class="op">=</span><span class="st">"grey"</span>,</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">12</span>),</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">True</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="co"># add the points to the map</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>point.plot(ax<span class="op">=</span>ax, marker<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'red'</span>, markersize<span class="op">=</span><span class="dv">5</span>, label<span class="op">=</span><span class="st">"Points"</span>)</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a><span class="co"># add labels and title</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Highlighted Community Areas with Points"</span>)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Longitude"</span>)</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Latitude"</span>)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-25-output-1.png" width="798" height="967" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="combined-demographic-and-health-outcome-data" class="level3">
<h3 class="anchored" data-anchor-id="combined-demographic-and-health-outcome-data">Combined Demographic and Health outcome data</h3>
<div id="78461d7f" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fix the wrong community name </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>data[<span class="st">"community_area_name"</span>] <span class="op">=</span> data[<span class="st">"community_area_name"</span>].replace(</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    {<span class="st">"Montclaire"</span>: <span class="st">"Montclare"</span>})</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge shp with the demographic dataset</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>chi_shp_dem <span class="op">=</span> chi_shp.merge(data, left_on<span class="op">=</span><span class="st">"DISTITLE"</span>,right_on <span class="op">=</span> <span class="st">"community_area_name"</span>, how<span class="op">=</span><span class="st">"outer"</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>chi_shp_dem <span class="op">=</span> chi_shp_dem.to_crs(epsg<span class="op">=</span><span class="dv">32616</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co"># save the shape + demographic dataset for shiny</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>chi_shp_dem.to_file(<span class="st">"chi_shp_dem.geojson"</span>, driver<span class="op">=</span><span class="st">"GeoJSON"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="look-at-the-1-mile-buffer-for-the-primary-care-center" class="level3">
<h3 class="anchored" data-anchor-id="look-at-the-1-mile-buffer-for-the-primary-care-center">Look at the 1 mile buffer for the primary care center</h3>
<div id="c532e2af" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create the 1 mile buffer </span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>point[<span class="st">"buffer"</span>] <span class="op">=</span> point.geometry.<span class="bu">buffer</span>(<span class="dv">1609</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>buffers <span class="op">=</span> gpd.GeoDataFrame(point, geometry<span class="op">=</span><span class="st">"buffer"</span>, crs<span class="op">=</span>point.crs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="cancer-mortality-rate-in-community-area" class="level4">
<h4 class="anchored" data-anchor-id="cancer-mortality-rate-in-community-area">Cancer mortality Rate in Community Area</h4>
<div id="3203b66d" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>chi_shp_dem.plot(ax<span class="op">=</span>ax, column<span class="op">=</span><span class="st">"cancer_all_sites"</span>, cmap<span class="op">=</span><span class="st">"Reds"</span>, edgecolor<span class="op">=</span><span class="st">"lightgrey"</span>,legend<span class="op">=</span><span class="va">True</span>, label<span class="op">=</span><span class="st">"Cancer Rates"</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>buffers.plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">"blue"</span>, alpha<span class="op">=</span><span class="fl">0.2</span>, edgecolor<span class="op">=</span><span class="st">"None"</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">" 1 Mile Buffers and Cancer Rates in Community Areas"</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/xp/13j7_6qs0bjcjm3r53h36v0h0000gn/T/ipykernel_30948/2616533059.py:6: UserWarning: Legend does not support handles for PatchCollection instances.
See: https://matplotlib.org/stable/tutorials/intermediate/legend_guide.html#implementing-a-custom-legend-handler
  plt.legend()
/var/folders/xp/13j7_6qs0bjcjm3r53h36v0h0000gn/T/ipykernel_30948/2616533059.py:6: UserWarning: No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
  plt.legend()</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-28-output-2.png" width="454" height="445" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="diabetes-rate-in-community-area" class="level4">
<h4 class="anchored" data-anchor-id="diabetes-rate-in-community-area">Diabetes rate in Community Area</h4>
<div id="5a9988a5" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>chi_shp_dem.plot(ax<span class="op">=</span>ax, column<span class="op">=</span><span class="st">"diabetes_related"</span>, cmap<span class="op">=</span><span class="st">"Blues"</span>, edgecolor<span class="op">=</span><span class="st">"lightgrey"</span>,legend<span class="op">=</span><span class="va">True</span>, label<span class="op">=</span><span class="st">"Diabetes Rates"</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>buffers.plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">"blue"</span>, alpha<span class="op">=</span><span class="fl">0.2</span>, edgecolor<span class="op">=</span><span class="st">"None"</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">" 1 Mile Buffers and Diabetes in Community Areas"</span>)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/xp/13j7_6qs0bjcjm3r53h36v0h0000gn/T/ipykernel_30948/2127620628.py:6: UserWarning: Legend does not support handles for PatchCollection instances.
See: https://matplotlib.org/stable/tutorials/intermediate/legend_guide.html#implementing-a-custom-legend-handler
  plt.legend()
/var/folders/xp/13j7_6qs0bjcjm3r53h36v0h0000gn/T/ipykernel_30948/2127620628.py:6: UserWarning: No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
  plt.legend()</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-29-output-2.png" width="437" height="445" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="below-poverty-level-in-community-area" class="level4">
<h4 class="anchored" data-anchor-id="below-poverty-level-in-community-area">Below Poverty Level in Community Area</h4>
<div id="2f1b8e64" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>chi_shp_dem.plot(ax<span class="op">=</span>ax, column<span class="op">=</span><span class="st">"below_poverty_level"</span>, cmap<span class="op">=</span><span class="st">"Greens"</span>, edgecolor<span class="op">=</span><span class="st">"lightgrey"</span>,legend<span class="op">=</span><span class="va">True</span>, label<span class="op">=</span><span class="st">"Below Poverty Level"</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>buffers.plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">"blue"</span>, alpha<span class="op">=</span><span class="fl">0.2</span>, edgecolor<span class="op">=</span><span class="st">"None"</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">" 1 Mile Buffers and Below Poverty Levelin Community Areas"</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/xp/13j7_6qs0bjcjm3r53h36v0h0000gn/T/ipykernel_30948/1705648710.py:6: UserWarning: Legend does not support handles for PatchCollection instances.
See: https://matplotlib.org/stable/tutorials/intermediate/legend_guide.html#implementing-a-custom-legend-handler
  plt.legend()
/var/folders/xp/13j7_6qs0bjcjm3r53h36v0h0000gn/T/ipykernel_30948/1705648710.py:6: UserWarning: No artists with labels found to put in legend.  Note that artists whose label start with an underscore are ignored when legend() is called with no argument.
  plt.legend()</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="notebook_files/figure-html/cell-30-output-2.png" width="498" height="445" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>